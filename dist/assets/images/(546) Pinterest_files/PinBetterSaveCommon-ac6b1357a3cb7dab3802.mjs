(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["PinBetterSaveCommon",7,19,22,53,64,104],{"+c4W":function(e,t,n){var r=n("711d"),o=n("4/ic"),i=n("9ggG"),a=n("9Nap");e.exports=function(e){return i(e)?r(a(e)):o(e)}},"+lzj":function(e,t,n){n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return d})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return p})),n.d(t,"f",(function(){return b}));var r=n("fyR6"),o=n("vzKb");const i={cumulativeLayoutShiftScore:0,firstInputDelay:null,longTaskDurations:[],largestContentfulPaint:null,elementTimings:[]},a=()=>{i.longTaskDurations=[]},s=Object(r.a)(()=>i.elementTimings),c=()=>s.get(),d=e=>{e&&s.save(),i.elementTimings=[]},l=()=>i;let u=0;const p=()=>u,b=()=>{Object(o.a)({type:"element",buffered:!0},e=>{i.elementTimings=i.elementTimings.concat(e.getEntries().reduce((e,{identifier:t,loadTime:n,renderTime:r})=>e.concat("string"==typeof t&&"number"==typeof n&&"number"==typeof r?[{identifier:t,loadTime:n,renderTime:r}]:[]),[]))}),Object(o.a)({entryTypes:["longtask"]},e=>{e.getEntries().map(e=>i.longTaskDurations.push(e.duration))},()=>a()),Object(o.a)({type:"first-input",buffered:!0},(e,t)=>{const n=e.getEntries()[0];n&&n.startTime&&n.processingStart&&(i.firstInputDelay={startTime:n.startTime,endTime:n.processingStart}),t.disconnect()},()=>{i.firstInputDelay=null}),Object(o.a)({type:"largest-contentful-paint",buffered:!0},e=>{const t=e.getEntries(),n=t.length,r=t[n-1];r&&(u=n,i.largestContentfulPaint=r.renderTime||r.loadTime||null)}),Object(o.a)({type:"layout-shift",buffered:!0},e=>{e.getEntries().forEach(e=>{e.hadRecentInput||(i.cumulativeLayoutShiftScore+=e.value)})})}},"0YPa":function(e,t,n){var r=n("q1tI");t.a=(e,t)=>{const n=Object(r.useRef)(()=>{});Object(r.useEffect)(()=>{n.current=e},[e]),Object(r.useEffect)(()=>{if(null===t)return()=>{};const e=setInterval(()=>n.current(),t);return()=>clearInterval(e)},[t])}},"0zyx":function(e,t,n){n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var r=n("mVx/"),o=n.n(r);const i=({pathname:e})=>/^\/pin\/[\w-]+\/?$/.test(e),a=e=>{const t=o()(e,e=>!i(e));return t&&(({pathname:e})=>/^\/search\/pins\//.test(e))(t)?(({pathname:e,search:t})=>{const n=/^\/search\/pins\/(\?.*)$/.exec(e),r=(t||n&&n[1]||"").substr(1).split("&").map(e=>e.split("=")).find(e=>"q"===e[0]);return r?decodeURIComponent(r[1]):""})(t):""}},"1+5i":function(e,t,n){var r=n("w/wX"),o=n("sEf8"),i=n("mdPL"),a=i&&i.isSet,s=a?o(a):r;e.exports=s},"1LK5":function(e,t){e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},"1vym":function(e,t,n){},"3/Bf":function(e,t,n){n.d(t,"a",(function(){return d})),n.d(t,"e",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return p})),n.d(t,"d",(function(){return b}));var r=n("7w6Q"),o=n("FZ8N"),i=n("LrH5");const a=Object(i.a)("logPwtStats");let s=null,c=!0;const d=e=>{s=e},l=e=>{s&&(s.historyAction=e)},u=(e,t,n=!0)=>{if(!s)return a("pwt.metrics_quality.no_context"),void r.a.increment("pwt.metrics_quality.no_context",1,{eventName:e});const{browserName:i,browserVersion:c,deviceType:d,isBot:l,isSocialBot:u}=s,p=`pwt.${(u?"socialBot":l&&"bot")||"nonbot"}.metrics_quality.${d}.${e}`,b={...(null==t?void 0:t.tags)||{},browserName:i,browserVersion:(null==c?void 0:c.split(".")[0])||"0"},f=null==t?void 0:t.count;n&&(a(`${p}: ${"number"==typeof f?f:1}`),null!=t&&t.tags&&a(Object.entries(t.tags))),o.c||r.a.count(p,"number"==typeof f?f:1,1,b)},p=(e,t)=>u(`ERROR.${null!=t&&t.action?t.action+".":""}${e}`,{tags:t}),b=({appLoadName:e,clientNavName:t},n)=>{if(s){const r="APP_VOLUME.";c?(u(r.concat(e),{tags:{browserSupportsPwtProfiler:!!n}}),c=!1):"PUSH"===s.historyAction&&u(r.concat(t),{tags:{browserSupportsPwtProfiler:!!n}})}else r.a.increment("pwt.metrics_quality.no_context",1,{eventName:e.concat("."+t)})}},"3R0Q":function(e,t,n){t.a=e=>{let t={};e.forEach(({label:e,timestamp:n})=>{t={...t,[e]:(t[e]||[]).concat([n])}});let n=Object.freeze({});return Object.keys(t).forEach(e=>{(t[e]||[]).forEach((t,r)=>{const o=r?`${e}_${r+1}`:e;n={...n,[o]:t}})}),n}},"4/ic":function(e,t,n){var r=n("ZWtO");e.exports=function(e){return function(t){return r(t,e)}}},"5uyJ":function(e,t,n){n.d(t,"a",(function(){return r}));const r={V_HLSV4:"V_HLSV4",V_720P:"V_720P"}},"711d":function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},"7vSn":function(e,t,n){},"82UD":function(e,t,n){n.d(t,"a",(function(){return y}));var r=n("q1tI"),o=n("/MKj"),i=n("T+9/"),a=n("ajUs"),s=n("ou9u"),c=n("hFNL"),d=n("qD10"),l=n("yKES"),u=n("5uyJ"),p=n("n6mq"),b=n("nKUr");const f={overlay:{__style:{backgroundColor:"#000"}}};function h(e){var t;const{pin:{id:n,images:o,title:i,videos:a,video_status_message:s}}=e,c=s||{},h=o&&o["236x"],m=a&&(null===(t=a.video_list)||void 0===t?void 0:t[u.a.V_HLSV4]),{duration:v}=m||{};return Object(b.jsx)(r.Fragment,{children:Object(b.jsx)(p.j,{children:Object(b.jsxs)(d.a,{to:"/pin/"+n,children:[Object(b.jsxs)(p.f,{overflow:"hidden",position:"relative",rounding:2,children:[h&&Object(b.jsx)(p.x,{alt:i||"",color:"lightGray",naturalHeight:h.height,naturalWidth:h.width,src:h.url}),!!v&&Object(b.jsx)(p.f,{padding:2,position:"absolute",bottom:!0,left:!0,display:"flex",children:Object(b.jsx)(l.a,{duration:v})}),Object(b.jsx)(p.f,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.4,dangerouslySetInlineStyle:f.overlay}),Object(b.jsxs)(p.f,{position:"absolute",top:!0,left:!0,padding:5,width:"100%",children:[Object(b.jsx)(p.u,{color:"white",overflow:"normal",size:"sm",children:c.title}),Object(b.jsx)(p.f,{marginTop:4,children:Object(b.jsx)(p.ab,{color:"white",size:"md",overflow:"normal",children:c.subtitle})})]})]}),Object(b.jsx)(p.f,{display:"flex",alignItems:"start",justifyContent:"between",marginTop:1,paddingX:1,children:Object(b.jsx)(p.f,{flex:"grow",children:i&&Object(b.jsx)(p.f,{paddingY:1,children:Object(b.jsx)(p.ab,{inline:!0,size:"md",weight:"bold",children:i})})})})]})})})}var m=n("Y8Sn"),v=n("EC67"),g=n("vpxy"),j=n("0nTG");function y({trackingParameters:e,pin:t,pinId:n,...d}){var l;const u=Object(v.i)(),p=Object(o.useSelector)(({pins:e})=>e[n])||t,f=Object(a.a)(p,u),y=Object(s.a)(p),O=!!(y&&y.url&&y.height&&y.width)||void 0,w=y&&p.videos?p.videos.id:void 0,[S,_]=Object(r.useState)(!1),x=Object(r.useCallback)(()=>_(!0),[]),T=Object(r.useCallback)(()=>_(!1),[]),{componentType:I,contextLogData:C,impressionAuxFields:B,slotIndex:E,viewData:P,viewParameter:L,viewType:A}=e;return Object(b.jsx)(i.a,{componentType:I,contextLogData:{..."undefined"!=typeof window?{pwa_type:Object(c.b)(window)}:{},...C,...Object(j.f)(p,C)},impressionAuxFields:{...B||{},isNativeVideoAndWatchable:O,videoIdStr:w,clientTrackingParams:f||(p.tracking_params||"")+"-0",imageURL:p.images&&(null===(l=p.images["236x"])||void 0===l?void 0:l.url),richTypes:Object(j.e)(p)},impressionType:"Pin",isPaused:!S,loggingId:p.id,slotIndex:E,viewData:P,viewParameter:L,viewType:A,children:Object(m.h)(p)?Object(b.jsx)(h,{pin:p}):Object(b.jsx)(g.a,{...d,debugImpressionState:S?"started":"paused",onError:T,onLoad:x,pin:p,pinId:n,trackingParameters:{componentType:I,contextLogData:C,slotIndex:E,viewParameter:L,viewType:A}})})}},"B/lV":function(e,t,n){const r=e=>{const t=e.replace(new RegExp("^"+(window.location.origin||"")),""),n=document&&document.querySelector(`head > script[src='${t}']`);return!!n&&n.hasAttribute("defer")},o=e=>["pinimg","pinterest","pinterdev"].every(t=>!e.includes(t+".com/"));t.a=(e,t)=>{const n=(({name:e,initiatorType:t})=>{switch(t){case"xmlhttprequest":return"xmlhttprequest";case"img":return"image";case"video":return"video";default:{const t=e.split("."),n=(t.length>1&&t.pop()||"").toLowerCase();return["js","mjs"].includes(n)?"script":"css"===n?"css":["mp4","m4v","mov"].includes(n)?"video":["bmp","gif","jpg","jpeg","png","tiff","webp","svg"].includes(n)?"image":"other"}}})(e),{name:i}=e;return{category:n,isDeferred:"script"===n&&r(i),isExternal:o(i),isVisuallyCompleteRequired:"image"===n&&t.includes(i),timing:e}}},BkRI:function(e,t,n){var r=n("OBhP");e.exports=function(e){return r(e,5)}},CMye:function(e,t,n){var r=n("GoyQ");e.exports=function(e){return e==e&&!r(e)}},"Dw+G":function(e,t,n){var r=n("juv8"),o=n("mTTR");e.exports=function(e,t){return e&&r(t,o(t),e)}},EEGq:function(e,t,n){var r=n("juv8"),o=n("oCl/");e.exports=function(e,t){return r(e,o(e),t)}},EHyI:function(e,t,n){n.d(t,"a",(function(){return a}));var r=()=>{var e;return!(null===(e=window.performance)||void 0===e||!e.timing)},o=n("XtwW"),i=n("gg0E");function a(e){return!("desktop"===e&&!r())&&(!!o.a&&Object(i.a)())}},EuRG:function(e,t,n){function r(e,t){return{type:"SEARCH_PIN_CLOSEUP_VIEWED",payload:{pinId:e,query:t}}}function o(e){return{type:"SEARCH_QUERY_STARTED",payload:{query:e}}}function i(e){return{type:"SEARCH_QUERY_INVALIDATED",payload:{query:e}}}n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i}))},F4HH:function(e,t,n){var r=n("q1tI"),o=n("3R0Q"),i=n("o9su"),a=n("B/lV"),s=n("vzKb"),c=n("FylZ"),d=n("mRg4"),l=n("LvPn"),u=n("XtwW"),p=n("LrH5"),b=n("fZG9"),f=n("xfna"),h=n("gz6+"),m=n("3/Bf");const v=Object(p.a)("PwtStopwatch"),g=(e,t)=>{if(u.a){if("start"===t.type&&!e.isTiming){const{name:n,startTime:r,navigationType:o}=t;return Object(m.c)("TIMING."+n),{isTiming:!0,isSampled:t.isSampled,startTime:"number"==typeof r?r:u.a.now(),metricId:{type:"stopwatch",name:n,navigationType:o},pwtStaticContext:t.pwtStaticContext,annotations:e.annotations,binaryAnnotations:e.binaryAnnotations,spans:e.spans,traceId:e.traceId}}if("annotate"===t.type){const n=u.a.now();return v(`adding annotation {${t.label}: ${n}}`),{...e,annotations:e.annotations.concat([{label:t.label,timestamp:n}])}}if("binaryAnnotate"===t.type)return v(`adding binary annotation {${t.name}: ${String(t.value)}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,[t.name]:{value:t.value,type:t.annotationType}}};if("binaryAnnotateOperation"===t.type){const{value:n,type:r}=t.binaryAnnotationValueAndType;if(e.binaryAnnotations[t.name]){const o=e.binaryAnnotations[t.name].value||0;return v(`operating on binary annotation {\n          name: ${t.name}\n          pervious value: ${String(o)}\n          operand: ${String(n)}\n        }`),{...e,binaryAnnotations:{...e.binaryAnnotations,[t.name]:{value:n?t.operation(o,n):o,type:r}}}}return{...e,binaryAnnotations:{...e.binaryAnnotations,[t.name]:{value:n,type:r}}}}if("addSubspan"===t.type){v(`adding subspan {${t.name}}`);let n=0;return t.startTime?n=t.startTime:e.startTime?n=e.startTime:v(`WARNING: adding subspan {${t.name}} without start time`),{...e,spans:[...e.spans,{name:t.name,id:t.id||Object(c.a)(),startTime:n,endTime:t.endTime||1/0,annotationMap:{...t.annotations},binaryAnnotationMap:{...t.binaryAnnotations},parentId:t.parentId}]}}if("subspanStart"===t.type){v(`starting subspan {${t.name}}`);return e.spans.findIndex(e=>e.name===t.name)&&v(`WARNING: adding duplicate subspan name {${t.name}}`),{...e,spans:[...e.spans,{name:t.name,id:t.id||Object(c.a)(),parentId:t.parentId||null,startTime:u.a.now(),endTime:1/0,annotationMap:{...t.annotations},binaryAnnotationMap:{...t.binaryAnnotations}}]}}if("subspanStop"===t.type){if(v(`stopping subspan {${t.name}}`),!t.id){e.spans.reduce((e,n)=>(n.name===t.name&&e.push(n),e),[]).length>1&&Object(m.b)("duplicate_subspan_stop_name",{name:t.name})}const n=t.id?e.spans.findIndex(e=>e.id===t.id):e.spans.findIndex(e=>e.name===t.name);return n>-1?(e.spans[n].endTime=u.a.now(),t.annotations&&(e.spans[n].annotationMap={...e.spans[n].annotationMap,...t.annotations}),t.binaryAnnotations&&(e.spans[n].binaryAnnotationMap={...e.spans[n].binaryAnnotationMap,...t.binaryAnnotations})):Object(m.b)("invalid_subspan_stop_name",{name:t.name}),e}if("stop"===t.type&&e.isTiming){const{startTime:n,metricId:r,pwtStaticContext:s,annotations:p,binaryAnnotations:f,isSampled:m,spans:v,traceId:g}=e;if(t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect(),m){const e=t.stopTime||u.a.now(),m=[...v.map(t=>(t.endTime===1/0&&(t.endTime=e),t))];if(t.manualAndResourceSpans||0===v.length){const r=Object(c.a)();m.push({name:"network_resources",id:r,startTime:n,endTime:e,annotationMap:{},binaryAnnotationMap:{},parentId:null},...(t.customStopwatchBuffer||[]).map(e=>Object(l.a)(Object(a.a)(e,[]),r)).filter(Boolean))}const j="initial_app_load"===r.navigationType&&Object(i.a)(),y={type:"COMPLETE",traceId:g,startTime:n,endTime:e,spans:m,annotationMap:{...Object(o.a)(p),...Object(h.a)("browser_",j?Object(h.b)(j):{})},binaryAnnotationMap:Object(b.a)({metricId:r,pwtStaticContext:s,binaryAnnotations:f,performanceResourceTimings:t.customStopwatchBuffer||[]})};Object(d.a)({metricId:r,pwtStaticContext:s,result:y})}return{isTiming:!1,annotations:[],binaryAnnotations:{},spans:[],traceId:Object(c.a)()}}if("error"===t.type){const{error:e,stopwatchPerformanceObserver:n}=t;return e&&Object(m.b)(e),n&&n.disconnect(),{isTiming:!1,annotations:[],binaryAnnotations:{},spans:[],traceId:Object(c.a)()}}if("abort"===t.type&&e.isTiming){t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect();const{metricId:n,pwtStaticContext:r}=e,o=t.reason||"";return Object(d.a)({metricId:n,pwtStaticContext:r,result:{type:"ABORT",reason:o}}),{isTiming:!1,annotations:[],binaryAnnotations:{},spans:[],traceId:Object(c.a)()}}}return e};var j=({name:e,sampleRate:t,navigationType:n,manualAndResourceSpans:o=!1})=>{const i=Object(f.c)(),a=Object(r.useRef)([]),d=Object(r.useRef)(null),[l,u]=Object(r.useReducer)(g,{isTiming:!1,annotations:[],binaryAnnotations:{},spans:[],traceId:Object(c.a)()});return i?{isTiming:l.isTiming,start:r=>{if(window.PerformanceObserver){const e=1e3;a.current=[],d.current=Object(s.a)({entryTypes:["resource"]},t=>{a.current=a.current.concat(t.getEntries()),a.current.length>e&&(a.current=a.current.slice(-e))})}const o={type:"start",startTime:r,name:e,navigationType:n,pwtStaticContext:i,isSampled:!t||Math.random()<t};return u(o)},stop:e=>u({type:"stop",stopTime:e,stopwatchPerformanceObserver:d.current,customStopwatchBuffer:a.current,manualAndResourceSpans:o}),error:e=>{u({type:"error",stopwatchPerformanceObserver:d.current,error:e})},abort:e=>u({type:"abort",stopwatchPerformanceObserver:d.current,customStopwatchBuffer:a.current,reason:e}),annotate:(e,t)=>u({type:"annotate",label:e,parentId:t}),binaryAnnotate:(e,t,n,r)=>u({type:"binaryAnnotate",name:e,value:t,annotationType:n,parentId:r}),binaryAnnotateOperation:(e,t,n,r)=>u({type:"binaryAnnotateOperation",name:e,binaryAnnotationValueAndType:t,operation:n,parentId:r}),addSubspan:({name:e,startTime:t,endTime:n,annotations:r={},binaryAnnotations:o={},parentId:i=null,id:a=null})=>u({type:"addSubspan",name:e,startTime:t,endTime:n,annotations:r,binaryAnnotations:o,parentId:i,id:a}),subspanStart:({name:e,annotations:t={},binaryAnnotations:n={},parentId:r=null,id:o=null})=>u({type:"subspanStart",name:e,annotations:t,binaryAnnotations:n,parentId:r,id:o}),subspanStop:({name:e,annotations:t,binaryAnnotations:n,id:r,parentId:o})=>u({type:"subspanStop",name:e,annotations:t,binaryAnnotations:n,id:r,parentId:o}),getSpans:(e,t)=>l.spans.filter(n=>n[e]===t),getTraceId:()=>l.traceId}:null},y=n("1dBE"),O=n("nKUr");t.a=({name:e,v2LoggerMetricName:t,sampleRate:n,abortOnUnloadOrClientNavigation:o=!0,navigationType:i,manualAndResourceSpans:a=!1})=>{const{Provider:s,useHook:c}=Object(y.b)("Stopwatch_"+e);return{Provider:function({children:t}){const c=j({name:e,sampleRate:n,navigationType:i,manualAndResourceSpans:a}),d=Object(f.b)(),l=d?d.time:0,u=Object(r.useRef)(!1),p=null==c?void 0:c.isTiming,b=e=>{u.current&&(u.current=!1,null==c||c.abort(e))};return Object(r.useEffect)(()=>()=>{o&&b("unloadOrClientNavigation")},[l]),Object(O.jsx)(s,{value:{isTiming:p,abort:b,addAnnotation:(e,t)=>{null==c||c.annotate(e,t)},addBinaryAnnotation:(e,t,n,r)=>{null==c||c.binaryAnnotate(e,t,n,r)},binaryAnnotationOperation:(e,t,n,r)=>{null==c||c.binaryAnnotateOperation(e,t,n,r)},addSubspan:({name:e,startTime:t,endTime:n,annotations:r,binaryAnnotations:o,parentId:i,id:a})=>{null==c||c.addSubspan({name:e,startTime:t,endTime:n,annotations:r,binaryAnnotations:o,parentId:i,id:a})},subspanStart:({name:e,annotations:t,binaryAnnotations:n,parentId:r,id:o})=>{null==c||c.subspanStart({name:e,annotations:t,binaryAnnotations:n,parentId:r,id:o})},subspanStop:({name:e,annotations:t,binaryAnnotations:n,id:r,parentId:o})=>{null==c||c.subspanStop({name:e,annotations:t,binaryAnnotations:n,id:r,parentId:o})},getSpans:(e,t)=>c?c.getSpans(e,t):[],getTraceId:()=>c?c.getTraceId():"",error:e=>{u.current&&(u.current=!1,null==c||c.error(e))},start:e=>{u.current&&(null==c||c.abort("duplicated_init_stopwatch_action")),u.current=!0,null==c||c.start(e)},stop:e=>{u.current&&(u.current=!1,null==c||c.stop(e))}},children:t})},useHook:c}}},FZ8N:function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i}));const r=window.location.search.includes("debug_tracing"),o=window.location.search.includes("debug_lab_tracing"),i=r||o},FylZ:function(e,t,n){function r(){let e="";for(let t=0;t<16;t+=1){e+="0123456789abcdef"[Math.floor(16*Math.random())]}return e}n.d(t,"a",(function(){return r}))},G6z8:function(e,t,n){var r=n("fR/l"),o=n("oCl/"),i=n("mTTR");e.exports=function(e){return r(e,i,o)}},GDhZ:function(e,t,n){var r=n("wF/u"),o=n("mwIZ"),i=n("hgQt"),a=n("9ggG"),s=n("CMye"),c=n("IOzZ"),d=n("9Nap");e.exports=function(e,t){return a(e)&&s(t)?c(d(e),t):function(n){var a=o(n,e);return void 0===a&&a===t?i(n,e):r(t,a,3)}}},Gi0A:function(e,t,n){var r=n("QqLw"),o=n("ExA7");e.exports=function(e){return o(e)&&"[object Map]"==r(e)}},"H/Lk":function(e,t,n){n.d(t,"a",(function(){return r}));const r=(e,t,n)=>({type:"MOST_RECENT_BOARD",payload:{id:e,name:t,url:n}})},HMdf:function(e,t,n){n.d(t,"f",(function(){return u})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return h})),n.d(t,"a",(function(){return m})),n.d(t,"e",(function(){return v})),n.d(t,"b",(function(){return g})),n.d(t,"g",(function(){return j}));var r=n("fyR6"),o=n("vzKb"),i=n("SyXB");function a(e){var t,n;return(null===(t=window)||void 0===t||null===(n=t.performance)||void 0===n?void 0:n.getEntriesByType)&&window.performance.getEntriesByType(e)||[]}var s=n("FZ8N"),c=n("3/Bf");let d;function l(){window.performance&&window.performance.clearResourceTimings&&(Object(i.c)("resourceBufferCleared"),s.b&&console.info("Warning: Clearing resource timings in default buffer."),Object(c.c)("resourceBufferSize",{count:a("resource").length}),window.performance.clearResourceTimings())}const u=({size:e})=>{if(window.performance){window.PerformanceObserver?(d=a("resource"),Object(o.a)({entryTypes:["resource"]},t=>{d=(d||[]).concat(t.getEntries()),d.length>e&&(d=d.slice(-e))})):(window.addEventListener("popstate",()=>{a("resource").length>e&&l()}),window.performance.setResourceTimingBufferSize&&window.performance.setResourceTimingBufferSize(e));try{window.performance.onresourcetimingbufferfull=()=>{d||l()}}catch(t){}}},p=()=>d||a("resource"),b=Object(r.a)(p),f=p,h=()=>b.get(),m=e=>{e&&b.save(),d&&(Object(c.c)("customBufferSize",{count:d.length}),d=[]),l()},v=()=>({customBufferSize:d?d.length:0,defaultBufferSize:a("resource").length}),g=(e,t=!0)=>{let n=0,r=0;const o=(i=e.filter(e=>t?(e.responseEnd||"img"!==e.initiatorType||(n+=1),e.transferSize||"img"!==e.initiatorType||(r+=1),!!e.responseEnd&&!!e.transferSize&&"img"===e.initiatorType):!!e.responseEnd&&!!e.transferSize).map(e=>8*(e.transferSize||0)/((e.responseEnd-e.responseStart)/1e3)/1e3)).length?i.reduce((e,t)=>e+t,0)/i.length:null;var i;return t&&(n>0&&Object(c.c)("images.downloadSpeed.noResponseEnd",{tags:{count:n}},!1),r>0&&Object(c.c)("images.downloadSpeed.transferSize",{tags:{count:r}},!1)),o},j=e=>{if(!e)return"unknown";const t=Math.floor(e/1e3);return t<1?"0-1":t<5?"1-5":t<10?"5-10":t<20?"10-20":t<40?"20-40":t<80?"40-80":"80_or_above"}},IOzZ:function(e,t){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},IWTy:function(e,t,n){var r=n("yue5");e.exports=function(e,t,n){for(var o=-1,i=e.criteria,a=t.criteria,s=i.length,c=n.length;++o<s;){var d=r(i[o],a[o]);if(d)return o>=c?d:d*("desc"==n[o]?-1:1)}return e.index-t.index}},JELi:function(e,t,n){var r=n("KwMD"),o=n("ut/Y"),i=n("Sxd8"),a=Math.max,s=Math.min;e.exports=function(e,t,n){var c=null==e?0:e.length;if(!c)return-1;var d=c-1;return void 0!==n&&(d=i(n),d=n<0?a(c+d,0):s(d,c-1)),r(e,o(t,3),d,!0)}},KwMD:function(e,t){e.exports=function(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}},LrH5:function(e,t,n){n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var r=n("FZ8N");const o=(e,t)=>{r.b&&(e.style.outline="10px solid "+t,e.style.outlineOffset="-30px")},i=e=>(t,...n)=>{r.b&&console.log("string"==typeof t?`[PWT:${e}] ${t}`:t,...n)}},LvPn:function(e,t,n){n.d(t,"a",(function(){return s}));var r=n("FylZ"),o=n("pody"),i=n("nEAA");const a=({category:e,isDeferred:t,isExternal:n})=>[e].concat(t?["deferred"]:[]).concat(n?["external"]:[]).join("_");function s(e,t){const{category:n,timing:s,isDeferred:c,isExternal:d,isVisuallyCompleteRequired:l}=e;return s.responseEnd&&("image"!==n||l)?{name:a(e),id:Object(r.a)(),parentId:t,startTime:s.startTime,endTime:s.responseEnd,annotationMap:Object(o.a)(s),binaryAnnotationMap:{category:Object(i.d)(n),decodedBodySize:Object(i.b)(s.decodedBodySize||0),initiatorType:Object(i.d)(s.initiatorType),isDeferred:Object(i.a)(c),isExternal:Object(i.a)(d),name:Object(i.d)(s.name),nextHopProtocol:Object(i.d)(s.nextHopProtocol),transferSize:Object(i.b)(s.transferSize||0)}}:null}},MNxV:function(e,t,n){n.d(t,"a",(function(){return a}));var r=n("XRfM"),o=n("pLLR"),i=n("nKUr");const a=r.c.DateFormatType;t.b=({dateFormatType:e,useUTC:t=!0,value:n})=>Object(i.jsx)(o.b,{children:o=>r.c.formatDate(o.locale,n,e,t)})},O7RO:function(e,t,n){var r=n("CMye"),o=n("7GkX");e.exports=function(e){for(var t=o(e),n=t.length;n--;){var i=t[n],a=e[i];t[n]=[i,a,r(a)]}return t}},OBhP:function(e,t,n){var r=n("fmRc"),o=n("gFfm"),i=n("MrPd"),a=n("WwFo"),s=n("Dw+G"),c=n("5Tg0"),d=n("Q1l4"),l=n("VOtZ"),u=n("EEGq"),p=n("qZTm"),b=n("G6z8"),f=n("QqLw"),h=n("yHx3"),m=n("wrZu"),v=n("+iFO"),g=n("Z0cm"),j=n("DSRE"),y=n("zEVN"),O=n("GoyQ"),w=n("1+5i"),S=n("7GkX"),_=n("mTTR"),x="[object Arguments]",T="[object Function]",I="[object Object]",C={};C[x]=C["[object Array]"]=C["[object ArrayBuffer]"]=C["[object DataView]"]=C["[object Boolean]"]=C["[object Date]"]=C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Map]"]=C["[object Number]"]=C[I]=C["[object RegExp]"]=C["[object Set]"]=C["[object String]"]=C["[object Symbol]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C["[object Error]"]=C[T]=C["[object WeakMap]"]=!1,e.exports=function e(t,n,B,E,P,L){var A,R=1&n,k=2&n,D=4&n;if(B&&(A=P?B(t,E,P,L):B(t)),void 0!==A)return A;if(!O(t))return t;var M=g(t);if(M){if(A=h(t),!R)return d(t,A)}else{var N=f(t),F=N==T||"[object GeneratorFunction]"==N;if(j(t))return c(t,R);if(N==I||N==x||F&&!P){if(A=k||F?{}:v(t),!R)return k?u(t,s(A,t)):l(t,a(A,t))}else{if(!C[N])return P?t:{};A=m(t,N,R)}}L||(L=new r);var U=L.get(t);if(U)return U;L.set(t,A),w(t)?t.forEach((function(r){A.add(e(r,n,B,r,t,L))})):y(t)&&t.forEach((function(r,o){A.set(o,e(r,n,B,o,t,L))}));var H=M?void 0:(D?k?b:p:k?_:S)(t);return o(H||t,(function(r,o){H&&(r=t[o=r]),i(A,o,e(r,n,B,o,t,L))})),A}},ONNR:function(e,t,n){n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return j})),n.d(t,"c",(function(){return T})),n.d(t,"d",(function(){return I}));var r,o,i,a,s=function(e,t){return{name:e,value:void 0===t?-1:0,delta:0,entries:[],id:"v1-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)}},c=function(e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var n=new PerformanceObserver((function(e){return e.getEntries().map(t)}));return n.observe({type:e,buffered:!0}),n}}catch(e){}},d=!1,l=function(e,t){d||"undefined"!=typeof InstallTrigger||(addEventListener("beforeunload",(function(){})),d=!0),addEventListener("visibilitychange",(function n(r){"hidden"===document.visibilityState&&(e(r),t&&removeEventListener("visibilitychange",n,!0))}),!0)},u=function(e){addEventListener("pageshow",(function(t){t.persisted&&e(t)}),!0)},p=new WeakSet,b=function(e,t,n){var r;return function(){t.value>=0&&(n||p.has(t)||"hidden"===document.visibilityState)&&(t.delta=t.value-(r||0),(t.delta||void 0===r)&&(r=t.value,e(t)))}},f=function(e,t){var n,r=s("CLS",0),o=function(e){e.hadRecentInput||(r.value+=e.value,r.entries.push(e),n())},i=c("layout-shift",o);i&&(n=b(e,r,t),l((function(){i.takeRecords().map(o),n()})),u((function(){r=s("CLS",0),n=b(e,r,t)})))},h=-1,m=function(){return"hidden"===document.visibilityState?0:1/0},v=function(){l((function(e){var t=e.timeStamp;h=t}),!0)},g=function(){return h<0&&(h=m(),v(),u((function(){setTimeout((function(){h=m(),v()}),0)}))),{get timeStamp(){return h}}},j=function(e,t){var n,r=g(),o=s("FCP"),i=c("paint",(function(e){"first-contentful-paint"===e.name&&(i&&i.disconnect(),e.startTime<r.timeStamp&&(o.value=e.startTime,o.entries.push(e),p.add(o),n()))}));i&&(n=b(e,o,t),u((function(r){o=s("FCP"),n=b(e,o,t),requestAnimationFrame((function(){requestAnimationFrame((function(){o.value=performance.now()-r.timeStamp,p.add(o),n()}))}))})))},y={passive:!0,capture:!0},O=new Date,w=function(e,t){r||(r=t,o=e,i=new Date,x(removeEventListener),S())},S=function(){if(o>=0&&o<i-O){var e={entryType:"first-input",name:r.type,target:r.target,cancelable:r.cancelable,startTime:r.timeStamp,processingStart:r.timeStamp+o};a.map((function(t){t(e)})),a=[]}},_=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var n=function(){w(e,t),o()},r=function(){o()},o=function(){removeEventListener("pointerup",n,y),removeEventListener("pointercancel",r,y)};addEventListener("pointerup",n,y),addEventListener("pointercancel",r,y)}(t,e):w(t,e)}},x=function(e){["mousedown","keydown","touchstart","pointerdown"].map((function(t){return e(t,_,y)}))},T=function(e,t){var n,i=g(),d=s("FID"),f=function(e){e.startTime<i.timeStamp&&(d.value=e.processingStart-e.startTime,d.entries.push(e),p.add(d),n())},h=c("first-input",f);n=b(e,d,t),h&&l((function(){h.takeRecords().map(f),h.disconnect()}),!0),h&&u((function(){var i;d=s("FID"),n=b(e,d,t),a=[],o=-1,r=null,x(addEventListener),i=f,a.push(i),S()}))},I=function(e,t){var n,r=g(),o=s("LCP"),i=function(e){var t=e.startTime;t<r.timeStamp&&(o.value=t,o.entries.push(e)),n()},a=c("largest-contentful-paint",i);if(a){n=b(e,o,t);var d=function(){p.has(o)||(a.takeRecords().map(i),a.disconnect(),p.add(o),n())};["keydown","click"].map((function(e){addEventListener(e,d,{once:!0,capture:!0})})),l(d,!0),u((function(r){o=s("LCP"),n=b(e,o,t),requestAnimationFrame((function(){requestAnimationFrame((function(){o.value=performance.now()-r.timeStamp,p.add(o),n()}))}))}))}}},Og0o:function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));const r="closeupImage",o=()=>{if(!document.querySelector)return null;const e=document.querySelector('head>link[rel="preload"][as="image"][href^="https://i.pinimg.com/"]');return e instanceof HTMLLinkElement?e.href:null}},SyXB:function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return d})),n.d(t,"b",(function(){return l}));var r=n("XtwW");const o="masonryPagination";let i={};const a=e=>"📌 "+e,s=()=>{const e={};return Object.keys(i).forEach(t=>{(i[t]||[]).slice(0,3).forEach((n,r)=>{e[r?`${t}_${r+1}`:t]=n})}),e},c=(e,t)=>(i[e]||[]).filter(e=>e<t).length,d=(e,t)=>c(e,t)>0,l=()=>{r.a&&Object.keys(i).forEach(e=>((e,t)=>{const n=a(t);e.clearMarks(n),e.clearMeasures(n)})(r.a,e)),i={}};t.c=e=>{r.a&&(i[e]=(i[e]||[]).concat([r.a.now()]),((e,t)=>{const n=a(t);e.mark(n),e.measure(n)})(r.a,e))}},VOtZ:function(e,t,n){var r=n("juv8"),o=n("MvSz");e.exports=function(e,t){return r(e,o(e),t)}},WnNx:function(e,t,n){function r(e){return{type:"SHOW_REPIN_ANIMATION",payload:{pinId:e}}}function o(){return{type:"HIDE_REPIN_ANIMATION"}}function i(){return{type:"SHOW_ACCOUNT_MENU_FLYOUT"}}function a(){return{type:"HIDE_ACCOUNT_MENU_FLYOUT"}}n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return a}))},WwFo:function(e,t,n){var r=n("juv8"),o=n("7GkX");e.exports=function(e,t){return e&&r(t,o(t),e)}},XKAG:function(e,t,n){var r=n("ut/Y"),o=n("MMmD"),i=n("7GkX");e.exports=function(e){return function(t,n,a){var s=Object(t);if(!o(t)){var c=r(n,3);t=i(t),n=function(e){return c(s[e],e,s)}}var d=e(t,n,a);return d>-1?s[c?t[d]:d]:void 0}}},XYm9:function(e,t,n){var r=n("+K+b");e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},XtwW:function(e,t,n){var r;t.a=(r=window.performance)&&r.clearMarks&&r.clearMeasures&&r.clearResourceTimings&&r.getEntries&&r.getEntriesByName&&r.getEntriesByType&&r.mark&&r.measure&&r.now&&r.setResourceTimingBufferSize?r:null},ZCpW:function(e,t,n){var r=n("lm/5"),o=n("O7RO"),i=n("IOzZ");e.exports=function(e){var t=o(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},ZdPf:function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return a}));const r={CONDITIONAL:0,EMOTIONAL_DISDRESS_OR_SUICIDE:4},o={ABUSIVE:0,SENSITIVE:1,BRAND_UNSAFE:2};function i(e){return null!=e&&(!!e.notice||!!e.notices&&e.notices.length>0)}function a(e){return!!e&&e.severity===o.ABUSIVE}},a49R:function(e,t,n){n.d(t,"a",(function(){return s}));var r=n("q1tI"),o=n("n6mq"),i=n("nKUr");function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s=Object(r.createContext)(()=>{});class c extends r.Component{constructor(...e){super(...e),a(this,"state",{flyout:void 0,showOnTopOfModal:!1}),a(this,"setActive",(e,t,n=!1)=>{if(e){const e={...t,onDismiss:()=>{t&&t.onDismiss&&(t.onDismiss(),this.setState({flyout:void 0}))},positionRelativeToAnchor:!1};this.setState({flyout:{props:e},showOnTopOfModal:n})}else this.setState({flyout:void 0})})}render(){var e,t,n,a,c,d,l,u,p;const{flyout:b,showOnTopOfModal:f}=this.state,{children:h}=this.props;return Object(i.jsxs)(r.Fragment,{children:[Object(i.jsx)(s.Provider,{value:this.setActive,children:h}),b&&Object(i.jsx)("div",{...f?{style:{zIndex:752,position:"absolute",top:0}}:{},children:Object(i.jsx)(o.J,{anchor:null===(e=b.props)||void 0===e?void 0:e.anchor,onDismiss:null===(t=b.props)||void 0===t?void 0:t.onDismiss,color:null===(n=b.props)||void 0===n?void 0:n.color,idealDirection:null===(a=b.props)||void 0===a?void 0:a.idealDirection,positionRelativeToAnchor:null===(c=b.props)||void 0===c?void 0:c.positionRelativeToAnchor,shouldFocus:null===(d=b.props)||void 0===d?void 0:d.shouldFocus,showCaret:null===(l=b.props)||void 0===l?void 0:l.showCaret,size:null===(u=b.props)||void 0===u?void 0:u.size,children:null===(p=b.props)||void 0===p?void 0:p.children})})]})}}t.b=c},alwl:function(e,t,n){var r=n("eUgh"),o=n("ZWtO"),i=n("ut/Y"),a=n("l9OW"),s=n("1LK5"),c=n("sEf8"),d=n("IWTy"),l=n("zZ0H"),u=n("Z0cm");e.exports=function(e,t,n){t=t.length?r(t,(function(e){return u(e)?function(t){return o(t,1===e.length?e[0]:e)}:e})):[l];var p=-1;t=r(t,c(i));var b=a(e,(function(e,n,o){return{criteria:r(t,(function(t){return t(e)})),index:++p,value:e}}));return s(b,(function(e,t){return d(e,t,n)}))}},b2z7:function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},bNC6:function(e,t,n){n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return l}));const r={id:14,name:"own_profile"},o={id:15,name:"other_profile"},i={initial_app_load:{unauth:{board:{id:114,name:"board_page_interactive"},pin_closeup:{id:113,name:"pin_page_interactive"},other_profile:{id:115,name:"user_page_interactive"},topic:{id:119,name:"topic_page_interactive"},sterling_signup:{id:201,name:"sterling_signup_main_pageload"},sterling_login:{id:202,name:"sterling_login_main_pageload"}},auth:{bizhub:{id:607,name:"bizhub_pinteractive"},homefeed:{id:19,name:"home_feed_pinteractive"},sterling_reporting_details:{id:218,name:"sterling_reporting_details_pageload"},sterling_reporting_overview:{id:219,name:"sterling_reporting_overview_pageload"},sterling_ads_create:{id:221,name:"sterling_adscreate_main_pageload"},sterling_ads_duplicate:{id:206,name:"sterling_adsduplication_main_pageload"},sterling_ads_edit:{id:204,name:"sterling_adsedit_main_pageload"},sterling_billing_profile:{id:203,name:"sterling_billingprofile_main_pageload"},sterling_bulk_editor:{id:205,name:"sterling_bulkeditor_main_pageload"},sterling_pin_builder:{id:222,name:"sterling_adscreate_pinbuilder_pageload"}}},client_route_push:{unauth:{},auth:{bizhub:{id:608,name:"bizhub_page_render"},homefeed:{id:2,name:"home_feed_render"},search:{id:3,name:"search_feed_render"},pin_closeup:{id:13,name:"pin_closeup_details"},own_profile:r,other_profile:o}},client_route_replace:{unauth:{},auth:{own_profile:r,other_profile:o}}},a={client_route_push:{auth:{pin_closeup:{story_pin:{id:700,name:"story_pin_closeup"}}}}},s={board_picker:16,grid_bottom_spinner:12,facebook_autologin:500,google_autologin:501,story_pin_step:701},c=e=>{var t,n;const{navigationType:r,isAuthenticated:o,segment:s,surface:c}=e,d=o?"auth":"unauth",l=null===(t=a[r])||void 0===t||null===(n=t[d])||void 0===n?void 0:n[c];return s&&l&&l[s]||i[r][d][c]},d=e=>{if("stopwatch"===e.type)return s[e.name]||null;const t=c(e);return t?t.id:null},l=e=>{if("stopwatch"===e.type)return e.name;const{navigationType:t,isAuthenticated:n,segment:r,surface:o}=e,i=n?"auth":"unauth",a=c(e);return a?a.name:`${t}_${i}_${o}${r?"_"+r:""}`}},bZU8:function(e,t,n){n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return c}));const r="pwt-grid-item",o=['div[data-grid-item="true"]',"div.Masonry div.Collection-Item","div.Grid__Item",`div[data-test-id="${r}"]`],i=o.join(","),a=o.map(e=>e+" img").join(","),s=o.map(e=>e+" div[style*=background-image]").join(","),c=o.map(e=>e+" video").join(",")},e0nq:function(e,t,n){function r(e){return{type:"PIN_BETTER_SAVE",payload:e}}function o(e){return{type:"PIN_BETTER_UNSAVE",payload:e}}function i(e){return{type:"PIN_BETTER_SELECT_BOARD_OR_SECTION",payload:e}}function a(e){return{type:"POST_REPIN_MORE_IDEAS_UPSELL_SHOWN",payload:{boardId:e}}}n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a}))},e3KR:function(e,t,n){n.d(t,"c",(function(){return H})),n.d(t,"b",(function(){return z})),n.d(t,"a",(function(){return q}));var r=n("q1tI"),o=n("/MKj"),i=(n("7vSn"),n("8cMa")),a=n("s7xj"),s=n("n6mq"),c=n("nKUr");const d=({collaborator_count:e,useLegoLayout:t,type:n})=>t?Object(c.jsx)(s.f,{marginEnd:e?2:0,children:Object(c.jsx)(i.a,{type:n})}):Object(c.jsx)(i.a,{type:n});var l=({board:e,showCollaborativeIcon:t,showPrivateIcon:n,showProtectedIcon:r,showSectionsIcon:o,useLegoLayout:l})=>{var u;const p=(null==e||null===(u=e.collaborating_users)||void 0===u?void 0:u.length)||0;return t||n||r||o?Object(c.jsxs)(s.f,{display:"flex",direction:"row",marginEnd:l?0:5,dangerouslySetInlineStyle:{__style:{paddingLeft:8}},alignItems:"center",children:[n&&Object(c.jsx)(d,{collaborator_count:p,useLegoLayout:l,type:"secret"}),r&&Object(c.jsx)(d,{collaborator_count:p,useLegoLayout:l,type:"protected"}),t&&(l?Object(c.jsx)(a.a,{board:e,isCompact:!0,ownerOnly:!1}):Object(c.jsx)(i.a,{type:"group"})),o&&Object(c.jsx)(i.a,{type:"sections"})]}):null},u=n("JW66"),p=n("Ye/N"),b=n("4cpq");function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends r.Component{constructor(...e){super(...e),f(this,"state",{hovered:!1}),f(this,"handleMouseEnter",()=>{this.setState({hovered:!0})}),f(this,"handleMouseLeave",()=>{this.setState({hovered:!1})}),f(this,"handleTouch",()=>{const{board:e,onClick:t}=this.props;t(e)}),f(this,"handleButtonClick",({event:e})=>{const{onButtonClick:t}=this.props;this.handleTouch(),t&&t(),e.stopPropagation()}),f(this,"tapAreaRef",Object(r.createRef)())}focus(){const e=this.tapAreaRef.current;e&&e.focus()}render(){const{hovered:e}=this.state,{board:t,buttonText:n,isSectionOpen:r,shouldOpenSections:o,showSaveToProfile:i,showFlyoutSaveButton:a,useLegoLayout:d}=this.props,f=!!t.section_count&&t.section_count>0,h=f?"boardWithSection":"boardWithoutSection",m=t.image_cover_url;return Object(c.jsx)(b.a,{id:h,children:Object(c.jsx)(s.Z,{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onTap:this.handleTouch,ref:this.tapAreaRef,children:Object(c.jsxs)(s.f,{alignItems:"center",color:e?"lightGray":"white",display:"flex",height:d?64:52,marginStart:d?2:3,marginEnd:d?2:3,marginBottom:d?0:1,marginTop:d?0:1,padding:d?2:0,rounding:3,children:[Object(c.jsxs)(s.f,{"aria-hidden":"true",flex:"none",height:d?48:36,marginBottom:d?0:1,marginStart:d?0:2,marginEnd:d?2:3,marginTop:d?0:1,overflow:"hidden",width:d?48:36,children:[i&&"boardless"===t.type&&Object(c.jsx)(s.C,{rounding:2,width:48,height:48,children:Object(c.jsx)(s.f,{color:e?"white":"lightGray",display:"flex",height:"100%",width:"100%",children:Object(c.jsx)(s.f,{alignItems:"center",justifyContent:"center",padding:3,children:Object(c.jsx)(s.v,{accessibilityLabel:p.a._("Save to profile icon","BoardRow.TapArea.Icon","Icon to indicate saving to profile."),color:"darkGray",icon:"history",size:24})})})}),m&&!o&&Object(c.jsx)(s.C,{height:d?48:36,rounding:2,wash:!0,width:d?48:36,children:Object(c.jsx)(s.x,{src:m,alt:"",naturalHeight:d?48:36,naturalWidth:d?48:36,fit:"cover"})}),m&&o?Object(c.jsx)(s.C,{rounding:2,wash:!0,width:d?48:36,height:d?48:36,children:Object(c.jsx)(s.x,{src:m,alt:"",naturalHeight:d?48:36,naturalWidth:d?48:36,fit:"cover"})}):Object(c.jsx)(s.f,{color:o?"lightGray":"transparent",width:"100%",height:"100%"})]}),Object(c.jsx)(s.f,{flex:"grow",paddingY:1,overflow:"hidden",marginStart:d?0:1,children:Object(c.jsx)(s.ab,{truncate:!0,weight:o||!o?"bold":"normal",children:t.name})}),t&&(!e||e&&f&&!r)?Object(c.jsx)(s.f,{children:Object(c.jsx)(l,{board:t,isOpen:t.isOpen,showCollaborativeIcon:!!t.is_collaborative,showPrivateIcon:t.privacy===u.a.BoardPrivacy.SECRET,showProtectedIcon:t.privacy===u.a.BoardPrivacy.PROTECTED,showSectionsIcon:f&&o,useLegoLayout:d})}):null,e&&(0===t.section_count||!o)&&a&&Object(c.jsx)(s.f,{marginEnd:d?0:2,flex:"none",children:Object(c.jsx)(s.g,{accessibilityLabel:"save button",color:"red",inline:!0,onClick:this.handleButtonClick,text:n||p.a._("Save","save button","save button")})})]})})})}}f(h,"defaultProps",{shouldOpenSections:!0,showFlyoutSaveButton:!0});var m=({image_url:e,naturalHeight:t,naturalWidth:n})=>Object(c.jsx)(s.f,{"aria-hidden":"true",marginBottom:1,marginEnd:2,marginTop:1,overflow:"hidden",width:48,height:48,children:Object(c.jsx)(s.C,{wash:!0,width:48,height:48,rounding:2,children:Object(c.jsx)(s.x,{src:e,alt:"",naturalHeight:t,naturalWidth:n})})});function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends r.Component{constructor(...e){super(...e),v(this,"state",{hovered:!1}),v(this,"handleMouseEnter",()=>{this.setState({hovered:!0})}),v(this,"handleMouseLeave",()=>{this.setState({hovered:!1})}),v(this,"handleTouch",()=>{const{board:e,onClick:t,section:n}=this.props;t(n,e)}),v(this,"handleButtonClick",({event:e})=>{const{onButtonClick:t}=this.props;this.handleTouch(),t&&t(),e.stopPropagation()}),v(this,"tapAreaRef",Object(r.createRef)())}focus(){const e=this.tapAreaRef.current;e&&e.focus()}render(){var e,t,n,r,o,i;const{hovered:a}=this.state,{buttonText:d,section:l,showSectionSaveButton:u,useLegoLayout:b}=this.props;return Object(c.jsx)(s.Z,{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onTap:this.handleTouch,ref:this.tapAreaRef,children:Object(c.jsxs)(s.f,{color:a?"lightGray":"white",display:"flex",alignItems:"center",height:b?64:52,marginStart:b?2:0,marginEnd:b?2:0,padding:b?2:0,marginTop:b?0:1,rounding:3,dangerouslySetInlineStyle:{__style:b?{}:{marginLeft:53,marginRight:11}},children:[b&&!(null===(e=l.preview_pins)||void 0===e||!e.length)&&Object(c.jsx)(m,{image_url:null!==(t=l.preview_pins[0].image_square_url)&&void 0!==t?t:"",naturalHeight:null!==(n=null===(r=l.preview_pins[0].image_square_size_pixels)||void 0===r?void 0:r.height)&&void 0!==n?n:1,naturalWidth:null!==(o=null===(i=l.preview_pins[0].image_square_size_pixels)||void 0===i?void 0:i.width)&&void 0!==o?o:1}),Object(c.jsx)(s.f,{flex:"grow",paddingY:1,marginStart:b?0:4,children:Object(c.jsx)(s.ab,{truncate:!0,weight:b?"bold":"normal",children:l.title})}),a&&u&&Object(c.jsx)(s.f,{marginEnd:b?0:2,flex:"none",children:Object(c.jsx)(s.g,{accessibilityLabel:"save button",color:"red",inline:!0,text:d||p.a._("Save","save button","save button"),onClick:this.handleButtonClick})})]})})}}v(g,"defaultProps",{showSectionSaveButton:!0});var j=n("w70y");var y=Object(j.b)({name:"BoardSectionsRepinResource",key:"sectionsResource",options:e=>({board_id:e.board.id}),allowStale:!1})(e=>{const{board:t,buttonText:n,sectionsResource:r,onClick:o,onButtonClick:i,showSectionSaveButton:a,useLegoLayout:d}=e,l=r&&r.data||[];return Object(c.jsxs)(s.f,{children:[!r.isLoaded&&Object(c.jsx)(s.f,{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",minHeight:200,children:Object(c.jsx)(s.T,{accessibilityLabel:p.a._("loading board picker","accessibility text for loading spinner","accessibility text for loading spinner"),show:!0})}),r.isLoaded&&Object(c.jsxs)(s.f,{children:[d&&Object(c.jsx)(s.f,{marginStart:4,marginTop:2,paddingY:1,children:Object(c.jsx)(s.ab,{size:"sm",children:p.a._("Section","PinBetterSave.BoardFlyout.SectionPlaceholderText","section list title")})}),l.map(e=>Object(c.jsx)(g,{board:t,buttonText:n,onButtonClick:i,onClick:o,section:e,showSectionSaveButton:a,useLegoLayout:d},e.id))]})]})});function O({isBoardCreate:e,onCreateBoardClick:t,useLegoLayout:n}){const[o,i]=Object(r.useState)(!1);return Object(c.jsx)(s.f,{"data-test-id":"create-board",height:"100%",display:"flex",children:Object(c.jsx)(s.Z,{onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),onTap:t,rounding:2,children:Object(c.jsxs)(s.f,{display:"flex",alignItems:"center",padding:n?4:2,color:o?"lightGray":"white",width:"100%",height:"100%",children:[Object(c.jsx)(s.f,{rounding:n?2:0,dangerouslySetInlineStyle:{__style:n?{padding:"14px"}:{}},marginStart:n?0:4,marginEnd:n?2:5,color:n?"lightGray":"transparent",children:Object(c.jsx)(s.v,{accessibilityLabel:"Add a board",size:n?20:28,icon:n?"add":"add-circle",color:n?"darkGray":"red"})}),e?Object(c.jsx)(s.ab,{align:"center",truncate:!0,weight:"bold",children:p.a._("Create board")}):Object(c.jsx)(s.ab,{align:"center",truncate:!0,weight:"bold",children:p.a._("Create section")})]})})})}var w=n("nKlH"),S=n("eOdZ");function _({onClick:e,title:t,showIcon:n}){const[o,i]=Object(r.useState)(!1);return Object(c.jsx)(s.Z,{onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),onTap:()=>{e({title:t})},children:Object(c.jsxs)(s.f,{color:o?"lightGray":"white",display:"flex",alignItems:"center",height:n?64:52,marginStart:3,marginEnd:3,marginBottom:1,rounding:3,children:[Object(c.jsx)(s.f,{flex:"none",marginBottom:1,marginStart:n?1:2,marginEnd:3,marginTop:1,overflow:"hidden",width:n?48:36,height:n?48:36,rounding:n?2:1,children:Object(c.jsx)(s.f,{color:"lightGray",width:"100%",height:"100%",display:n?"flex":void 0,alignItems:n?"center":void 0,justifyContent:n?"center":void 0,children:n&&Object(c.jsx)(s.v,{icon:"add",color:"darkGray",size:20,accessibilityLabel:p.a._("Create board icon","BoardSuggestionRow.AccessibilityLabel.Text","accessibility label text form add icon")})})}),Object(c.jsx)(s.f,{flex:"grow",paddingY:1,children:Object(c.jsx)(s.ab,{truncate:!0,weight:"bold",children:t})}),o&&Object(c.jsx)(s.f,{marginEnd:2,children:Object(c.jsx)(s.g,{accessibilityLabel:"create button",color:"red",inline:!0,text:p.a._("Create","create button to create a new board","create button to create a new board")})})]})})}const x=e=>{const{suggestionsResource:t,onClick:n,pinBuilderSuggestions:o,inWebRepinFlowExp:i}=e,a=o||t&&t.data||[],d=Object(c.jsxs)(r.Fragment,{children:[i&&Object(c.jsx)(s.f,{marginStart:4,marginTop:2,paddingY:1,children:Object(c.jsx)(s.ab,{size:"sm",children:p.a._("Suggestions","PinBetterSave.BoardFlyout.SectionPlaceholderText","section list title")})}),a.map((e,t)=>Object(c.jsx)(_,{title:e.title,onClick:n,showIcon:i},t))]});return Object(c.jsx)(r.Fragment,{children:a?d:Object(c.jsx)(s.f,{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",minHeight:200,children:Object(c.jsx)(s.T,{accessibilityLabel:p.a._("loading board suggestions","accessibility text for loading spinner","accessibility text for loading spinner"),show:!0})})})};var T=n("0BOE"),I=n("eUcp"),C=n("Wer7"),B=n("U4JR"),E=n("pLLR"),P=n("seP0"),L=n("ANjH");function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const R=e=>e?498:439,k=360,D=e=>e?80:52;class M extends r.PureComponent{constructor(...e){var t;super(...e),t=this,A(this,"state",{boardSuggestions:[],isSectionOpen:null,selectedBoardId:"",selectedBoardCategory:"",searchQuery:"",searchBoxFocused:!0}),A(this,"getItems",e=>{const{boardResource:t,suggestedBoardsShortListResource:n,displayShortlistMostRecentBoard:r,showSaveToProfile:o}=this.props;if(!t||!t.data)return[];const{all_boards:i,boards_shortlist:a}=t&&t.data,s=[{boardId:"",image_cover_url:"",is_collaborative:!1,isOpen:!1,name:p.a._("Profile","pinBetterSave.initialSelection.boardlessPinsOption","Option to save to profile without a board."),privacy:"public",section_count:0,type:"boardless",url:"/me/"}],c=i.filter(e=>!this.props.advertiser_id||"secret"!==e.privacy).map(e=>this.mapBoards(e,"allBoards",0)),d=r?a.map((e,t)=>this.mapBoards(e,"shortlist",t+1)):(n&&n.data||[]).map((e,t)=>this.mapBoards(e,"shortlist",t+1)),l=o&&i.length>=3?[...s,...d.slice(0,2)]:d,{searchQuery:u}=this.state;return u.length>=2?[...Object(T.a)(c,u)]:[...i.length<3&&o?[{type:"header",title:p.a._("Quick save and organize later","BoardFlyout.inPinBetterSaveAndLessThanThreeBoards.boardlessPinsTitle","Header saving to profile")},...s]:[],...i.length>3&&l&&l.length?[{type:"header",title:e?p.a._("Top choices","PinBetterSave.BoardFlyout.TopChoicesSectionTitle","Header for top suggestions in board picker"):p.a._("Top board suggestions","Header for top suggesions in board picker","Header for top suggesions in board picker")},...l]:[],...i.length>0?[{type:"header",title:i.length<3&&o?p.a._("Save to board","BoardFlyout.inPinBetterSaveAndLessThanThreeBoards.saveToBoardTitle","Header for boards when there are less than 3 boards in board picker"):p.a._("All boards","Header for all boards in board picker","Header for all boards in board picker")},...c]:[]]}),A(this,"mapBoards",(e,t,n)=>{const{setBoardWithSection:r}=this.props,{selectedBoardId:o,selectedBoardCategory:i}=this.state,a=e.id===o&&t===i;return a&&r&&r(e),{...e,category:t,isOpen:a,gridIndex:n}}),A(this,"handleBack",()=>{const{setBoardWithSection:e}=this.props;this.setState({isSectionOpen:!1,selectedBoardId:"",selectedBoardCategory:""}),e&&e(null)}),A(this,"handleSectionClick",(e,t)=>{const{onItemChosen:n}=this.props;Object(B.b)(101,{component:13282,element:36,objectId:t.id,view:91,grid_index:t.gridIndex}),n({boardId:t.id,url:e.slug?`${t.url}${e.slug}/`:t.url,sectionId:e.id,title:e.title||"",type:e.type,imageCoverUrl:t.image_cover_url})}),A(this,"getPinBuilderSuggestions",(async function(){const{pin:e}=t.props;if(e){var n;const r=S.a.create("BoardTitleSuggestionsResource",{pin_id:e.id}),o=await r.callGet({showError:!1},{retries:1});if(null!==(n=o.resource_response)&&void 0!==n&&n.data){const e=o.resource_response.data.map(e=>({title:e.title}))||[];t.setState({boardSuggestions:e})}}})),A(this,"handleBoardWithSectionsClick",e=>{const{selectedBoardId:t,selectedBoardCategory:n}=this.state,r=t===e.id&&n===e.category;this.setState({isSectionOpen:!0,selectedBoardId:r?"":e.id,selectedBoardCategory:r?"":e.category})}),A(this,"handleBoardClick",({board:e,toggleSections:t})=>{const{onItemChosen:n}=this.props;this.setState({searchBoxFocused:!1}),t?this.handleBoardWithSectionsClick({id:e.id,category:e.category}):(Object(B.b)(101,{component:13282,element:36,objectId:e.id,view:91,grid_index:e.gridIndex}),n({boardId:e.id,url:e.url,title:e.name||"",type:e.type,imageCoverUrl:e.image_cover_url}))}),A(this,"handleSearchQueryUpdate",e=>{this.setState(t=>({...t,searchQuery:e}))}),A(this,"boardSectionsHeaderRef",Object(r.createRef)())}componentDidMount(){this.props.boardResource&&this.props.boardResource.isLoaded&&this.setPWTLoadingEnd()}componentDidUpdate(e,t){e.boardResource&&!e.boardResource.isLoaded&&this.props.boardResource&&this.props.boardResource.isLoaded&&this.setPWTLoadingEnd(),this.state.isSectionOpen&&!t.isSectionOpen&&this.boardSectionsHeaderRef.current&&this.boardSectionsHeaderRef.current.focus()}setPWTLoadingEnd(){const{boardResource:e,boardPickerStopwatch:t}=this.props;t&&(!e||e.error?t.error():t.stop())}render(){const{boardResource:e,buttonText:t,changeBoardModal:n,customItem:o,onBoardCreate:i,onButtonClick:a,paneHeight:d,paneWidth:l,showSaveToProfile:u,showCreateBoardButton:f,showFlyoutSaveButton:m,showSections:v,showSectionSaveButton:g,suggestedBoardsShortListResource:j,useStoryboardStyle:S,useLegoLayout:_}=this.props,{boardSuggestions:T,isSectionOpen:C,searchBoxFocused:B,searchQuery:E}=this.state;if(!e)return null;const{isLoaded:P,error:L}=e;let A=[];(P&&!L||j&&j.data&&!j.error)&&(A=this.getItems(!!_));const M=A.filter(e=>e&&"allBoards"===e.category).length;M<=3&&0===T.length&&this.getPinBuilderSuggestions();const N=S?200:322,F=S?214:334,U=d||290,H=null===C?"":"BoardsSlideRight",z=e=>Object(c.jsxs)(r.Fragment,{children:[!_&&Object(c.jsx)(s.p,{}),Object(c.jsx)(s.f,{overflow:"hidden",height:D(_),borderStyle:_&&M>=3&&A.length>1?"shadow":"none",dangerouslySetInlineStyle:{__style:{borderBottomRightRadius:8,borderBottomLeftRadius:8}},children:Object(c.jsx)(O,{onCreateBoardClick:()=>i({title:this.state.searchQuery}),isBoardCreate:e,useLegoLayout:_})})]});return Object(c.jsxs)(s.f,{width:_&&!n?"100%":l,rounding:2,overflow:"hidden",height:S||n?"100%":R(_),color:"white",zIndex:I.a,children:[P?null:Object(c.jsx)(s.f,{display:"flex",alignItems:"center",justifyContent:"center",width:_&&!n?k:l,height:"100%",minHeight:200,children:Object(c.jsx)(s.T,{accessibilityLabel:p.a._("loading board picker","accessibility text for loading spinner","accessibility text for loading spinner"),show:!0})}),Object(c.jsx)(s.f,{display:"flex",direction:"row",children:P&&Object(c.jsx)("div",{className:C?"BoardsSlideLeft":H,children:Object(c.jsx)(s.f,{position:"relative",children:Object(c.jsxs)(s.f,{display:"flex",direction:"row",width:_&&!n?720:2*l,zIndex:new s.r(0),children:[Object(c.jsxs)(s.f,{display:"flex",direction:"column",width:_&&!n?k:l,children:[_&&!n&&Object(c.jsx)(s.f,{height:64,display:"flex",alignItems:"center",justifyContent:"center",children:Object(c.jsx)(s.ab,{align:"center",size:"lg",weight:"bold",children:u?p.a._("Save","PinBetterSave.BoardFlyout.SavePlaceholder","flyout header text to indicate save options"):p.a._("Save to board","PinBetterSave.BoardFlyout.SaveToBoardPlaceholder","flyout header text")})}),!n&&Object(c.jsx)(s.f,{padding:_?0:3,paddingX:_?4:3,height:_?64:"auto",children:Object(c.jsx)(w.a,{accessibilityLabel:p.a._("Search through your boards","search bar placeholder text","search bar placeholder text"),focused:B,id:"pickerSearchField",onChange:({value:e})=>this.handleSearchQueryUpdate(e),placeholder:p.a._("Search","search bar placeholder text","search bar placeholder text"),value:E})}),Object(c.jsxs)(s.f,{minHeight:_?290:N,maxHeight:_?U:N,overflow:"scrollY",children:[j&&!j.isLoaded?Object(c.jsx)(b.a,{id:"suggestedBoardsContainer",children:Object(c.jsx)(s.f,{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",minHeight:128.5,children:Object(c.jsx)(s.T,{accessibilityLabel:p.a._("loading board picker","accessibility text for loading spinner","accessibility text for loading spinner"),show:!0})})}):null,o,A.map((e,n)=>"header"===e.type?Object(c.jsx)(s.f,{paddingX:_?4:3,paddingY:1,marginTop:n>0?2:1,children:Object(c.jsx)(s.ab,{size:_?"sm":"md",children:e.title})},e.title):Object(c.jsx)(s.f,{children:Object(c.jsx)(h,{board:e,buttonText:t,onClick:e=>{this.handleBoardClick({board:e,toggleSections:v&&!!e.section_count})},onButtonClick:a,shouldOpenSections:v,showFlyoutSaveButton:m,showSaveToProfile:u,useLegoLayout:_})},`${e.category}-${e.id}`)),M<=3&&Object(c.jsx)(x,{onClick:i,pinBuilderSuggestions:T,inWebRepinFlowExp:_})]}),f&&z(!0)]}),Object(c.jsxs)(s.f,{display:"flex",direction:"column",width:_&&!n?k:l,marginBottom:_?2:0,children:[Object(c.jsxs)(s.f,{display:"flex",direction:"row",justifyContent:"center",alignContent:"center",alignItems:"center",children:[Object(c.jsx)(s.m,{span:2,children:Object(c.jsx)(s.f,{display:"flex",justifyContent:"start",alignContent:"center",alignItems:"center",marginStart:3,children:Object(c.jsx)(s.w,{accessibilityLabel:"Back button",icon:"arrow-back",iconColor:"darkGray",onClick:this.handleBack,size:"sm"})})}),Object(c.jsx)(s.m,{span:8,children:Object(c.jsx)(s.f,{display:"flex",justifyContent:"center",alignItems:"center",height:_?64:52,children:Object(c.jsx)(s.ab,{weight:"bold",children:_?p.a._("Save Pin to","PinBetterSave.BoardFlyout.SectionHeader","Header for section header"):p.a._("Choose section","Header for section header","Header for section header")})})}),Object(c.jsx)(s.m,{span:2,children:Object(c.jsx)(s.f,{})})]}),!_&&Object(c.jsx)(s.p,{}),Object(c.jsx)(s.f,{minHeight:_?354:F,maxHeight:_?U:F,overflow:"scrollY",children:A?Object(c.jsx)(r.Fragment,{children:A&&A.map(e=>"header"===e.type?null:Object(c.jsx)(s.f,{children:e.isOpen&&Object(c.jsxs)(r.Fragment,{children:[_&&Object(c.jsx)(s.f,{marginStart:4,marginTop:2,paddingY:1,children:Object(c.jsx)(s.ab,{size:"sm",children:p.a._("Board","PinBetterSave.BoardFlyout.BoardPickerTitle","board title on section picker")})}),Object(c.jsx)(h,{board:e,buttonText:t,isSectionOpen:!0,onClick:e=>{this.handleBoardClick({board:e,toggleSections:!1})},onButtonClick:a,shouldOpenSections:!1,showFlyoutSaveButton:m,ref:this.boardSectionsHeaderRef,useLegoLayout:_}),Object(c.jsx)(y,{board:e,buttonText:t,onClick:this.handleSectionClick,onButtonClick:a,showSectionSaveButton:g,useLegoLayout:_})]})},`${e.category}-${e.id}`))}):null}),f&&!n&&z(!1)]})]})})})})]})}}function N(e){return Object(c.jsx)(M,{...e,boardPickerStopwatch:Object(P.c)(),requestContext:Object(E.d)()})}function F(e){const{advertiser:t,viewer:n}=e;if(n&&t){const t=e.advertiser;if(n.isAuth&&t.is_impersonation)return{hasMUA:!1,advertiser_id:t.id,username:t.owner_user_id};if(n.isAuth&&t.owner_user_id!==n.id)return{hasMUA:!0,advertiser_id:t.id,username:t.owner_user_id};if(n.isAuth&&t.owner_user_id===n.id)return{hasMUA:!1,advertiser_id:t.id,username:"me"}}return{advertiser_id:void 0,hasMUA:void 0,username:void 0}}function U(e){const{advertiser_id:t,hasMUA:n,username:r}=e;return{field_set_key:"board_picker",filter:n?"protected":"all",...r?{username:r}:{},...t?{advertiser_id:t}:{}}}function H(){return(e,t)=>e(Object(C.f)("BoardPickerBoardsResource",U(F(t()))))}A(M,"defaultProps",{paneWidth:320,showCreateBoardButton:!0,showFlyoutSaveButton:!0,showSections:!0,showSectionSaveButton:!0,useLegoLayout:!0});const z=Object(L.compose)(Object(o.connect)((function(e){return F(e)})),Object(j.b)({name:"BoardPickerBoardsResource",key:"boardResource",options:U}))(N),q=Object(j.b)({name:"BoardPickerBoardsShortlistResource",key:"suggestedBoardsShortListResource",options:e=>({pin_id:e.pin.id,shortlist_length:3,num_shortlist_suggestions:3})})(N)},eUcp:function(e,t,n){n.d(t,"j",(function(){return o})),n.d(t,"f",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"l",(function(){return d})),n.d(t,"i",(function(){return l})),n.d(t,"k",(function(){return u})),n.d(t,"h",(function(){return p})),n.d(t,"e",(function(){return b})),n.d(t,"b",(function(){return f})),n.d(t,"g",(function(){return h})),n.d(t,"m",(function(){return m}));var r=n("n6mq");const o=new r.r(0),i=new r.r(1),a=2,s=new r.r(a),c=2,d=new r.r(c),l=new r.r(3),u=new r.r(1),p=new r.r(3),b=3,f=4,h=(new r.r(f),new r.r(5)),m=new r.r(100)},fEA9:function(e,t,n){n.r(t),n.d(t,"PinBetterSave",(function(){return re}));var r=n("q1tI"),o=n("/MKj"),i=(n("1vym"),n("TSYQ")),a=n.n(i),s=n("Ye/N"),c=n("juJw"),d=n("pLLR"),l=n("n6mq"),u=n("nKUr");function p(e){const{dropdownClasses:t,dropdownRef:n,onBoardDropdownClick:o,onSaveClick:i,renderPinSaveTooltip:c,saveButtonClasses:d,saveButtonRef:p,showSaveButton:b,textColor:f,title:h,hideDropdown:m}=e;return m?Object(u.jsx)(l.f,{alignItems:"center",justifyContent:"end",display:"flex",width:"100%",height:44,children:Object(u.jsxs)(r.Fragment,{children:[Object(u.jsx)("button",{className:d,onClick:o,"data-test-id":"PinBetterSaveButton",ref:n,children:Object(u.jsx)(l.ab,{color:"white",size:"sm",weight:"bold",children:s.a._("Save","BetterSave.Save.HideDropdown.label","BetterSave Save label")})}),!!c&&!!p.current&&c(p.current)]})}):Object(u.jsxs)(l.f,{alignItems:"center",display:"flex",width:"100%",height:44,children:[Object(u.jsx)("button",{className:t,"data-test-id":"PinBetterSaveDropdown",onClick:o,ref:n,children:Object(u.jsxs)(l.f,{paddingX:4,display:"flex",flex:"grow",alignItems:"center",children:[Object(u.jsx)(l.f,{flex:"grow",overflow:"hidden",children:Object(u.jsx)(l.ab,{color:f,truncate:!0,size:"sm",children:Object(u.jsx)("span",{className:a()("PinBetterSave__DropdownText","PinBetterSave__DropdownText--lego"),children:h})})}),Object(u.jsx)(l.f,{marginStart:2,flex:"none","data-test-id":"boardSelectionDropdown",children:Object(u.jsx)("div",{className:a()("PinBetterSave__DownArrowContainer","PinBetterSave__DownArrowContainer--lego"),children:Object(u.jsx)(l.v,{accessibilityLabel:s.a._("Select a board you want to save to","BetterSave accessibility label to change the board","BetterSave accessibility label to change the board"),color:"darkGray",icon:"arrow-down",size:12})})})]})}),b&&Object(u.jsxs)(r.Fragment,{children:[Object(u.jsx)("button",{className:d,onClick:i,"data-test-id":"PinBetterSaveButton",ref:p,children:Object(u.jsx)(l.ab,{color:"white",size:"sm",weight:"bold",children:s.a._("Save","BetterSave Save label","BetterSave Save label")})}),!!c&&!!p.current&&c(p.current)]})]})}function b(e){const{dropdownRef:t,onBoardDropdownClick:n,onSaveClick:r,renderPinSaveTooltip:o,saveButtonRef:i,hideDropdown:a=!1,title:d,view:p}=e,b="closeup"===p,f=b?"darkGray":"white";return Object(u.jsxs)(l.f,{alignItems:"center",display:"flex",width:"100%",ref:t,children:[!a&&Object(u.jsx)(l.f,{flex:"grow",width:"100%",children:Object(u.jsx)(l.Z,{onTap:({event:e})=>n(e),children:Object(u.jsxs)(l.f,{alignItems:"center",display:"flex",flex:"grow",justifyContent:b?"end":"start",paddingX:b?4:1,children:[Object(u.jsx)(l.f,{width:"auto",overflow:"auto","data-test-id":"PinBetterSaveDropdown",children:Object(u.jsx)(l.ab,{color:f,size:"lg",weight:"bold",children:Object(c.a)(d,13)})}),Object(u.jsx)(l.f,{"data-test-id":"boardSelectionDropdown",flex:"none",marginStart:d.length<13?2:1,children:Object(u.jsx)(l.v,{accessibilityLabel:s.a._("Select a board you want to save to","PinBetterSave.BoardSelection.DropdownIcon","BetterSave accessibility label to change the board"),color:f,icon:"arrow-down",size:12})})]})})}),Object(u.jsx)(l.f,{flex:"none",marginStart:"auto",alignSelf:b?"center":"start",children:Object(u.jsx)(l.g,{color:"red",inline:!0,onClick:({event:e})=>{a?n(e):r(e)},ref:i,size:"lg",text:s.a._("Save","PinBetterSave.BoardSelection.SaveButton","BetterSave Save label")})}),!!o&&!!i.current&&o(i.current)]})}function f(e){const{dropdownRef:t,onBoardDropdownClick:n,onSaveClick:o,renderPinSaveTooltip:i,selectedTitle:s,showSaveButton:c,unselectedText:l,shouldUseLegoStyles:f,view:h,hideDropdown:m}=e,{isRTL:v}=Object(d.d)(),g=Object(r.useRef)(),j=s||l;if(f)return Object(u.jsx)(b,{dropdownRef:t,onBoardDropdownClick:n,onSaveClick:o,renderPinSaveTooltip:i,saveButtonRef:g,hideDropdown:m,title:j,view:h});const y=a()("PinBetterSave__Button",{"PinBetterSave__Button--rtl":v},"PinBetterSave_Button--repin-flow"),O=a()("PinBetterSave__Button",{"PinBetterSave__Button--rtl":v,"PinBetterSave__Button--lego-pin":"pin"===h},"PinBetterSave__Button--lego");return Object(u.jsx)(p,{dropdownClasses:a()("PinBetterSave__Dropdown","PinBetterSave__Dropdown--lego",{"PinBetterSave__Dropdown--rtl":v,"PinBetterSave__Dropdown--lego-pin":"pin"===h,"PinBetterSave__Dropdown--lego-closeup":"closeup"===h,"PinBetterSave__Dropdown--expandedLego":!c}),dropdownRef:t,onBoardDropdownClick:n,onSaveClick:o,renderPinSaveTooltip:i,saveButtonClasses:m?y:O,saveButtonRef:g,showSaveButton:c,textColor:s?"darkGray":"gray",title:j,hideDropdown:m})}var h=n("clxp"),m=n("1inl"),v=n("ajUs"),g=n("uVIr"),j=n("EC51"),y=n("a49R");class O extends r.Component{constructor(...e){var t,n,r;super(...e),r=()=>{const{setActive:e,showOnTopOfModal:t,...n}=this.props;e("flyout",n,t||!1)},(n="renderFlyout")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}componentDidMount(){this.renderFlyout()}componentDidUpdate(){this.renderFlyout()}componentWillUnmount(){this.props.setActive()}render(){return null}}const w=e=>Object(u.jsx)(y.a.Consumer,{children:t=>Object(u.jsx)(O,{...e,setActive:t})});w.displayName="MasonryFlyout";var S=w,_=n("eOdZ"),x=n("lm6u");function T(e){const{action:t,additionalCreateFields:n,boardWithSection:o,children:i,onClose:a,pin:s,setCompletionPromise:c,showModal:d}=e,l=((e,t)=>{const[n,o]=Object(r.useState)([]);return Object(r.useEffect)(()=>{let n=!1;return e&&_.a.create("SectionRecommendationsResource",{pinIds:[t]}).callGet().then(e=>{var t;if(n)return;const r=null==e||null===(t=e.resource_response)||void 0===t?void 0:t.data;o(r.length>0&&r[0]||[])}),()=>{n=!0}},[e,t]),n})(d,s.id);return Object(u.jsx)(x.a,{additionalCreateFields:n,boardWithSection:o,action:t,hideSuccessAnimation:!!l.length,onClose:a,setCompletionPromise:c,showCreate:!0,shouldShowToast:!l.length,pin:s,children:e=>i({...e,sectionSuggestions:l})})}var I=n("qnp8"),C=n("uyxo"),B=n("M1Uz"),E=n("Sp3T"),P=n("wm0H"),L=n("v/Q4"),A=n("e3KR"),R=n("Wrea"),k=n("KFEb"),D=n("0zyx"),M=n("x12c"),N=n("vvax"),F=n("EuRG"),U=n("H/Lk"),H=n("WnNx"),z=n("U4JR"),q=n("NjDU"),G=n("QAzJ"),W=n("B6Tf"),$=n("e0nq");class V extends r.PureComponent{constructor(...e){var t,n,r;super(...e),r=()=>{const{boardId:e}=this.props;Object(z.b)(101,{component:20,element:10805,objectId:e})},(n="handleClick")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}componentDidMount(){const{toastShown:e}=this.props;e()}render(){const{boardName:e,boardUrl:t,onHide:n}=this.props;return Object(u.jsx)(B.a,{duration:5e3,onHide:n,text:Object(u.jsx)(l.ab,{weight:"bold",children:Object(N.b)(s.a._("Find more ideas for {{ boardName }}","postRepinUpsellToast.findMoreIdeas.toast","Find more ideas for you board"),{boardName:e}).join("")}),href:t+"more_ideas/?ideas_referrer=16",onClick:this.handleClick})}}var Z=Object(o.connect)(null,(e,t)=>({toastShown:()=>e(Object($.c)(t.boardId))}))(V),Y=n("w70y"),K=n("ZdPf"),X=n("seP0"),Q=n("nGHF"),J=n("0nTG"),ee=n("EC67");function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ne({savedInfo:e,variant:t,shouldUseLegoStyles:n}){const r="closeup"===t,o=r?"sm":"md",i="boardless"===e.type?s.a._("Profile","PinBetterSave.PinBetterSaveSavedStatus.savedTitle","Text indicating saved to your profile"):e.title;return Object(u.jsx)(j.a,{onClick:({event:e})=>{e.stopPropagation()},href:e.url||"",children:Object(u.jsx)(l.f,{dangerouslySetInlineStyle:{__style:{color:"#333"}},marginStart:r?1:0,children:n?Object(u.jsx)(l.ab,{color:"darkGray",size:"lg",weight:"bold",align:r?"right":void 0,children:i.length<=25?i:Object(c.a)(i,25)}):Object(u.jsx)(l.ab,{color:"darkGray",inline:!0,size:o,children:Object(N.b)(s.a._("Saved to {{ destination }}","Saved to label for better save","Saved to label for better save"),{destination:Object(u.jsx)(l.ab,{color:"darkGray",size:o,truncate:!0,weight:"bold",inline:!0,children:i.length<=25?i:Object(c.a)(i,25)},"pin_auto_save_link")})})})})}class re extends r.Component{constructor(...e){var t;super(...e),t=this,te(this,"state",{boardWithSection:null,createdBoard:null,suggestedBoardTitle:"",showBoardFlyout:!1,showRepinModal:!1,sensitiveContentNotice:null}),te(this,"setBoardSaveCompletionPromise",e=>{const{createdBoard:t}=this.state;this._repinCompletionPromise=e,this._repinCompletionPromise.promise.then(e=>{if(!e.board)return;const{board:{id:n,name:r,url:o}}=e,i={boardId:n,title:r,url:o};this.updateSelectedBoardOrSection(i),this.updateSavedState({...i,localPinId:e.id}),t&&Object(K.d)(t.sensitivity)&&Object(K.c)(t.sensitivity)?this.setState({sensitiveContentNotice:t.sensitivity.notice||t.sensitivity.notices[0]}):this.handleRepinHide()})}),te(this,"updateSavedState",e=>{const{reduxLocation:t,save:n,searchQueryInvalidated:r,onSave:o,pin:{id:i}}=this.props,a=t.query&&t.query.q||Object(D.a)(t.history);n({pinId:i,...e}),a&&r(a),o&&o()}),te(this,"updateSelectedBoardOrSection",e=>{const{selectBoardOrSection:t,pin:{id:n}}=this.props;t({pinId:n,...e})}),te(this,"updateSelectedItem",()=>{const{initialSelection:e,selectedItem:t}=this.props;!t&&e&&this.updateSelectedBoardOrSection(e)}),te(this,"dropdownRef",Object(r.createRef)()),te(this,"handleItemChosen",e=>{this.updateSelectedBoardOrSection(e),this.hideFlyout(!0),this.save(e)}),te(this,"handleBoardCreate",({title:e=""}={})=>this.props.requireAuth(()=>{this.hideFlyout(!0),this.setState(t=>({...t,suggestedBoardTitle:e,showRepinModal:!0}));const{onToggleFlyout:t}=this.props;t&&t(!0,!0)})),te(this,"handleBoardCreated",e=>{this.setState({createdBoard:e})}),te(this,"handleRepinHide",()=>{this.setState(e=>({...e,suggestedBoardTitle:"",showRepinModal:!1}));const{onToggleFlyout:e}=this.props;e&&e(!1,!1)}),te(this,"handleBoardDropdownClick",e=>{const{pin:{id:t},viewParameter:n,location:{pathname:r},boardPickerStopwatch:o}=this.props;e&&e.preventDefault&&e.preventDefault(),e&&e.stopPropagation&&e.stopPropagation(),this.state.showBoardFlyout?this.hideFlyout(!0):(Object(z.b)(101,{component:13282,element:10960,viewParameter:n,objectId:t}),o&&(o.start(),Object(X.b)(o,r)),this.showFlyout())}),te(this,"handleSaveClick",(async function(e){const{selectedItem:n}=t.props;n?(e&&e.preventDefault&&e.preventDefault(),e&&e.stopPropagation&&e.stopPropagation(),Object(z.b)(101,{component:13282,element:36,objectId:n.boardId,grid_index:4}),await t.save(n)):t.handleBoardDropdownClick(e)})),te(this,"setBoardWithSection",e=>{this.setState({boardWithSection:e})}),te(this,"handleEditSubmit",({boardId:e,sectionId:t,url:n,title:r})=>{const{pin:{id:o},savedInfo:{localPinId:i}={}}=this.props;this.updateSavedState({pinId:o,localPinId:i,boardId:e,sectionId:t||"",url:n,title:r})}),te(this,"resetPinSavedState",()=>{this.updateSavedState({boardId:"",localPinId:"",sectionId:"",title:"",url:""})}),te(this,"deleteSavedState",e=>{const{unsave:t,onDelete:n,pin:{id:r},shouldUseLegoStyles:o,toastManagerContext:i}=this.props;t({pinId:r}),o&&e&&_.a.create("PinResource",{id:e}).callDelete().then(()=>{i.showToast(({onHide:e})=>Object(u.jsx)(B.a,{onHide:e,text:s.a._("Pin deleted!","PinBetterSave.SavedPin.Delete","User deleted their pin")}))}),n&&n()}),te(this,"save",(async function(e){const{addPinToBoardlessPinsFeed:n,isLimitedLogin:r,mostRecentBoard:o,pin:{id:i},postRepinMoreIdeasUpsell:a,postRepinUpsellDisabled:s,save:c,setMostRecentBoard:d,shouldUseLegoStyles:l,showRepinAnimation:p,toastManagerContext:b}=t.props;t.updateSavedState(e);const f="boardless"===e.type;try{const{resource_response:{data:r}}=await t.getPinResource(e).callCreate({showError:!1}),h=e.url,{incrementBoardPinCount:m,updateUserPinCount:v,viewerUserId:g}=t.props;if(!s&&h&&!f&&(({boardId:e,boardUrl:t,postRepinMoreIdeasUpsell:n})=>{if(!t)return!1;const{recentSaves:r,recentUpsell:o}=n;if(o[e])return!1;const i=r.findIndex(t=>t.boardId!==e);return(-1===i?r.length:i)+1>=3})({boardId:e.boardId,boardUrl:h,postRepinMoreIdeasUpsell:a})&&b.showToast(({onHide:t})=>Object(u.jsx)(Z,{boardId:e.boardId,boardName:e.title,boardUrl:h,onHide:t})),c({pinId:i,...{...e,localPinId:r.id,localPin:r}}),M.b.publish("currentUser","pinCreated",r),M.b.publish(r.board.id,"pinCreated",{pin:r}),m({boardId:e.boardId,sectionId:e.sectionId}),v(g),n(g,r.id),l){const{id:n,images:o,board:a}=r,s=o["236x"];t.updateSavedState({pinId:i,...{...e,localPinId:n}}),b.showToast(({onHide:r})=>Object(u.jsx)(I.a,{boardName:e.title,boardUrl:e.url||a.url,isBoardlessPin:f,onHide:r,onUndo:()=>t.deleteSavedState(n),pinImageUrl:f&&e.url?e.url:s.url}))}else p(i);o&&e.boardId!==o.id&&!f&&d(e.boardId,e.title,e.url)}catch(h){r||m.a.showError(h.message_detail||h.message),t.resetPinSavedState()}})),te(this,"hideFlyout",(e=!1)=>{const{onToggleFlyout:t}=this.props;this.setState({showBoardFlyout:!1}),t&&t(!1,e)})}componentDidMount(){const{onMount:e}=this.props;this.updateSelectedItem(),e&&e()}componentDidUpdate(){this.updateSelectedItem()}getPinResource(e){const{carouselData:t,location:n,previousHistory:r,pin:o}=this.props,i={carousel_slot_index:t&&t.index||0,clientTrackingParams:Object(v.a)(o,n,r)||(o.tracking_params||"")+"~0",description:o.description||"",image_base64:o.image_base64,is_buyable_pin:!1,is_removable:o.promoted_is_removable,link:o.link,pin_id:o.id||"",title:o.title||"",...e.boardId&&"boardless"!==e.type?{board_id:e.boardId}:null,...e.sectionId?{section:e.sectionId}:null,...Object(J.f)(o)||{}};return _.a.create("RepinResource",i)}showFlyout(){const{onToggleFlyout:e}=this.props;this.setState({showBoardFlyout:!0}),e&&e(!0,!0)}render(){const{boardResource:e,carouselData:t,onToggleModal:n,pin:r,renderPinSaveTooltip:o,renderSavedStatus:i,savedInfo:a,selectedItem:s,unselectedText:c,useMasonryFlyout:d,variant:p,viewParameter:b,hideDropdown:m,showSaveToProfile:v,shouldUseLegoStyles:g}=this.props,{boardWithSection:j,showBoardFlyout:y,showRepinModal:O,sensitiveContentNotice:w,suggestedBoardTitle:_}=this.state,x=d?S:l.J,I=Object(u.jsx)(A.a,{boardResource:e,setBoardWithSection:this.setBoardWithSection,showSaveToProfile:v,onItemChosen:this.handleItemChosen,onBoardCreate:this.handleBoardCreate,pin:r});return Object(u.jsx)(h.a,{name:"PinBetterSave",children:Object(u.jsxs)(l.f,{width:"100%",display:"closeup"===p?"flex":void 0,height:g?60:"closeup"===p?44:void 0,color:g||"closeup"!==p?void 0:"lightGray",rounding:g||"closeup"!==p?void 0:4,children:[null!=a&&a.title?Object(u.jsx)(C.a,{currentCarouselIndex:t&&t.index,onDeleteSavedState:()=>this.deleteSavedState(a.localPinId),onEditSubmit:this.handleEditSubmit,onToggleModal:n,pinId:a.localPinId,variant:p,viewParameter:b,shouldUseLegoStyles:g,children:i&&a&&i({savedInfo:a,variant:p,shouldUseLegoStyles:g})}):Object(u.jsx)(f,{dropdownRef:this.dropdownRef,onBoardDropdownClick:this.handleBoardDropdownClick,onSaveClick:this.handleSaveClick,renderPinSaveTooltip:o,selectedTitle:s&&s.title,showSaveButton:!y,unselectedText:c,view:p,hideDropdown:m,shouldUseLegoStyles:g}),Object(u.jsx)(T,{additionalCreateFields:{is_stl_pin:Object(J.i)(r)},boardWithSection:j,action:"create",onClose:this.handleRepinHide,setCompletionPromise:this.setBoardSaveCompletionPromise,showModal:O,pin:r,children:({boardSavedTo:e,dismissModal:t,displaySuccessAnimation:n,handleAbort:r,handleNewBoardAnimationCompletion:o,handleSocialConnectSet:i,handleSaveToBoard:a,newPin:s,updateDescription:c,modalTitle:d,sectionSuggestions:l,setModalTitle:p,pin:b})=>Object(u.jsx)(W.c,{boardSavedTo:e,isInModal:!0,displaySuccessAnimation:n,dismissModal:t,handleAbort:r,handleNewBoardAnimationCompletion:o,handleSocialConnectSet:i,handleSaveToBoard:a,updateDescription:c,onBoardCreated:this.handleBoardCreated,sensitiveContentNotice:w,pin:b,pwtAuxData:{pin_create_method:"repin"},sectionSuggestions:l,suggestedBoardTitle:_,boardWithSection:j,shouldRenderContent:O,newPin:s,modalTitle:d,setModalTitle:p,showCreate:!0})}),y&&"closeup"===p&&Object(u.jsx)(l.J,{anchor:this.dropdownRef.current,idealDirection:"down",onDismiss:this.hideFlyout,size:"xl",children:I}),y&&"pin"===p&&Object(u.jsx)(x,{anchor:this.dropdownRef.current,idealDirection:"down",onDismiss:this.hideFlyout,positionRelativeToAnchor:!d,size:"xl",children:I})]})})}}te(re,"defaultProps",{variant:"pin",renderSavedStatus:({savedInfo:e,variant:t,shouldUseLegoStyles:n})=>Object(u.jsx)(ne,{savedInfo:e,variant:t,shouldUseLegoStyles:n})});t.default=Object(r.memo)((function(e){var t;const{pin:{id:n}}=e,r=Object(Y.a)({name:"BoardPickerBoardsResource",options:{field_set_key:"board_picker"}}),i=Object(Y.a)({name:"BoardPickerBoardsShortlistResource",options:{pin_id:e.pin.id,shortlist_length:2,num_shortlist_suggestions:2,suggestions_only:!0,min_confidence:.5}}),a=Object(ee.h)(),c=Object(ee.i)(),d=Object(Q.b)(),p=Object(X.c)(),b=Object(L.a)(),f=Object(o.useDispatch)(),h=Object(E.a)(),m=Object(o.useSelector)(({mostRecentBoard:e})=>e),v=Object(o.useSelector)(({pins:e})=>e[n]),j=Object(o.useSelector)(({history:e})=>e.previous),y=Object(o.useSelector)(({location:e})=>e),O=Object(o.useSelector)(({ui:e})=>e.postRepinMoreIdeasUpsell);let w=e.initialSelection,S=(null===(t=w)||void 0===t?void 0:t.title)||"",_=!0;const x=Object(G.b)("web_boardless_pins"),T=!!b.has_quicksave_board&&x().anyEnabled,{showEnabledSaveBehavior:I}=Object(P.a)(),C={boardId:"",title:s.a._("Profile","pinBetterSave.initialSelection.boardlessPinsOption","Option to save to profile without a board."),type:"boardless",url:"/me/"};if(!w){const e=i&&i.data&&i.data[0];w=i&&i.isLoaded&&e&&{boardId:e.id,title:e.name,url:e.url}||i&&i.isLoaded&&!e&&(T||I)&&C||i&&i.isLoaded&&!e&&m&&{boardId:m.id,title:m.name,url:m.url}||void 0,S=i&&i.isLoaded?s.a._("Select","BetterSave label to pick a board from the list","BetterSave label to pick a board from the list"):"...",_=!1}return Object(u.jsx)(l.f,{overflow:"hidden",children:Object(u.jsx)(re,{...e,addPinToBoardlessPinsFeed:(e,t)=>f(Object(g.a)({feedId:e,feedType:k.a.BOARDLESS_PINS,itemIds:[t],itemType:"pin"})),boardResource:r,boardPickerStopwatch:p,carouselData:v&&v.carousel_data,history:a,incrementBoardPinCount:({boardId:e,sectionId:t})=>f(Object(R.d)({boardId:e,sectionId:t,increment:1})),initialSelection:w,isLimitedLogin:b.isLimitedLogin,location:c,mostRecentBoard:m,postRepinMoreIdeasUpsell:O,postRepinUpsellDisabled:_,previousHistory:j,reduxLocation:y,requireAuth:h,save:e=>f(Object($.a)(e)),savedInfo:v&&v.savedInfo,searchQueryInvalidated:e=>f(Object(F.b)(e)),selectBoardOrSection:e=>f(Object($.b)(e)),selectedItem:v&&v.selectedItem,setMostRecentBoard:(e,t,n)=>f(Object(U.a)(e,t,n)),showSaveToProfile:T||I,showRepinAnimation:e=>f(Object(H.d)(e)),toastManagerContext:d,unsave:e=>f(Object($.d)(e)),unselectedText:S,updateUserPinCount:e=>f(Object(q.c)({userId:e,increment:1})),viewerUserId:b.isAuth?b.id:""})})}))},fZG9:function(e,t,n){n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return g}));var r=n("bNC6"),o=n("HMdf"),i=n("+lzj"),a=n("SyXB"),s=n("nEAA");const c=(e,t)=>(e||[]).reduce((e,n)=>({...e,["experiment."+n]:Object(s.d)(t(n))}),{}),d=(e,t)=>"number"==typeof t?e(t):null,l=e=>e.reduce((e,t)=>e+t,0),u=(e,t)=>Object.keys(t).reduce((n,r)=>({...n,[`${e}${r}`]:t[r]}),{}),p=e=>{if(!e.length)return{};const t=e.map(({startTime:e,requestStart:t,responseStart:n,responseEnd:r})=>{const o=t||e;return{startTime:e,requestStart:o,responseStart:n||o,responseEnd:r}}),n=l(t.map(e=>e.requestStart-e.startTime)),r=l(t.map(e=>e.responseStart-e.requestStart)),o=l(t.map(e=>e.responseEnd-e.responseStart)),i=n+r+o,a=l(e.map(e=>e.decodedBodySize||0));return{decodedBodySize:Object(s.b)((c=a,Number(Number(c/1024).toFixed(3)))),"duration.all":Object(s.b)(i),"duration.requestStartToResponseStart":Object(s.b)(r),"duration.responseStartToResponseEnd":Object(s.b)(o),"duration.startToRequestStart":Object(s.b)(n)};var c},b=e=>{const t=e.filter(e=>!!e.responseEnd);return{...e.length?{...p(t),"count.completed":Object(s.b)(t.length)}:{},"count.all":Object(s.b)(e.length)}},f=e=>{const t=e.reduce((e,t)=>(e[t.category]=(e[t.category]||[]).concat([t]),e),{}),n={script:t.script,script_deferred:e.filter(e=>e.isDeferred),external:e.filter(e=>e.isExternal),css:t.css,image:t.image,video:t.video,xmlhttprequest:t.xmlhttprequest,visually_complete:e.filter(e=>e.isVisuallyCompleteRequired)};return Object.keys(n).reduce((e,t)=>({...e,...u(`resource.${t}.`,b((n[t]||[]).map(e=>e.timing)))}),{})},h=(e,t)=>{const{devicePixelRatio:n,navigator:o,innerWidth:i,innerHeight:a}=window,{deviceMemory:c,hardwareConcurrency:d,platform:l,userAgent:u}=o,{appType:p,appVersion:b,browserName:f,browserVersion:h,deviceType:m,isAppShell:v,isAuthenticated:g,isBot:j,isSocialBot:y,locale:O,osName:w,stageName:S}=t,_="desktop"===m?p||5:p||6;let x;const{navigationType:T}=e;return x="initial_app_load"===T?1:4,{"app.type":Object(s.c)(_),"app.version":Object(s.d)(b),"browser.name":Object(s.d)(f),"browser.version":Object(s.d)(h),"cpu.speed":Object(s.c)(d),"device.memory":Object(s.c)(c),"device.type":Object(s.c)(0),"device.typeName":Object(s.d)(m),"device.version":Object(s.d)("unknown"),"pwt.cause":Object(s.c)(x),"pwt.result":Object(s.c)(1),"view.type":Object(s.b)(0),"viewport.height":Object(s.b)(a||0),"viewport.width":Object(s.b)(i||0),devicePixelRatio:Object(s.b)(n||0),isAppShell:Object(s.a)(v),isAuthenticated:Object(s.a)(g),isBot:Object(s.a)(j),isSocialBot:Object(s.a)(y),locale:Object(s.d)(O),osName:Object(s.d)(w),platform:Object(s.d)(l||null),profilerVersion:Object(s.d)("3"),pwtActionName:Object(s.c)(Object(r.a)(e)),stageName:Object(s.d)(S),userAgent:Object(s.d)(u)}},m=({annotateExperiments:e,metricId:t,pwtStaticContext:n,binaryAnnotations:r={},performanceResourceTimings:i=[]})=>{let a={};{const{connection:e,hardwareConcurrency:t,deviceMemory:n}=window.navigator;a={"net.effectiveType":Object(s.d)((null==e?void 0:e.effectiveType)||null),"net.rtt":Object(s.b)(d(e=>10*Math.round(e/10),null==e?void 0:e.rtt)),"net.speed":Object(s.b)(Object(o.b)(i,!1)),"cpu.threads":Object(s.c)(t),"memory.size":Object(s.b)(n)}}return{...c(e,n.getExperimentGroup),...h(t,n),...r,...a,stopwatchVersion:Object(s.c)(1)}},v=(e,t,n)=>{var r;const{navigator:c}=window,{connection:u,serviceWorker:p}=c,{surface:b,navigationType:f,isAuthenticated:h}=e,{cumulativeLayoutShiftScore:m,longTaskDurations:v}=Object(i.e)();return{...v.length?{"longTask.count":Object(s.b)(v.length),"longTask.maxDuration":Object(s.b)(Math.max(...v)),"longTask.totalDuration":Object(s.b)(l(v))}:{},cumulativeLayoutShiftScore:Object(s.b)(100*m),"masonry.paginationMarkCount":Object(s.b)(Object(a.e)(a.a,t)),"metricId.isAuthenticated":Object(s.a)(h),"metricId.navigationType":Object(s.d)(f),"metricId.surface":Object(s.d)(b),"net.effectiveType":Object(s.d)((null==u?void 0:u.effectiveType)||null),"net.rtt":Object(s.b)(d(e=>10*Math.round(e/10),null==u?void 0:u.rtt)),"net.speed":Object(s.b)(Object(o.b)(n)),resourceBufferClearedCount:Object(s.c)(Object(a.e)("resourceBufferCleared",t)),scrollDuringLayout:Object(s.a)(Object(a.f)("scrollDuringLayout",t)),serviceWorker:Object(s.a)(p?!!p.controller:null),serviceWorkerState:Object(s.d)((null==p||null===(r=p.controller)||void 0===r?void 0:r.state)||null)}},g=({annotateExperiments:e,binaryAnnotations:t={},entries:n,metricId:r,performanceResources:o,pwtEndTime:i,pwtStaticContext:a})=>({...t,...f(o),...c(e,a.getExperimentGroup),...h(r,a),...v(r,i,n)})},fyR6:function(e,t,n){t.a=e=>{let t=null;return{get:()=>t||e(),save:()=>{t=e()}}}},gg0E:function(e,t,n){n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return j}));var r=n("q1tI"),o=n("SyXB"),i=n("0YPa"),a=n("bNC6"),s=n("HMdf"),c=n("3/Bf"),d=n("QAzJ"),l=n("y2Ga"),u=n("bZU8");const p=(e,t)=>{const n=(e=>e instanceof HTMLDivElement||e instanceof HTMLVideoElement?e.getBoundingClientRect():e.parentElement instanceof HTMLElement?e.parentElement.getBoundingClientRect():null)(e);if(!n)return Object(c.b)("missing_client_rect"),!1;return!(e instanceof HTMLImageElement&&n.width<100&&n.height<100)&&(({top:e,height:t},{foldY:n,pageYOffset:r})=>{const o=e+r;if(o>=n)return!1;const i=Math.min(t,n-o);return i>.5*t||i>.2*n})(n,t)},b=()=>{const e=(()=>{if(!document.querySelector)return Object(c.b)("missing_document_query_selector"),null;const e=document.querySelectorAll(u.d);return e[e.length-1]||null})();if(!e)return!1;const t=window.innerHeight||0,n=window.pageYOffset||0;return e.getBoundingClientRect().top+n>=t},f=(e,t)=>{if(!document.querySelector)return Object(c.b)("missing_document_query_selector"),[];const n={foldY:window.innerHeight||0,pageYOffset:window.pageYOffset||0},r=[u.b,...e?[u.a]:[],...t?[u.e]:[]].join(",");return[...document.querySelectorAll(r)].reduce((e,r)=>{if((r instanceof HTMLImageElement||r instanceof HTMLDivElement||r instanceof HTMLVideoElement&&t)&&p(r,n)){const t=(e=>{if(e instanceof HTMLImageElement)return e.src;if(e instanceof HTMLVideoElement)return e.attributes.poster.value;const t=((e.style||{}).backgroundImage||"").match(/^url\(["'](http.*)["']\)$/);return t&&t[1]||null})(r);if(t)return e.concat([{htmlElement:r,url:t}])}return e},[])};var h=n("LrH5");const m=Object(h.a)("GridProfiler"),v=()=>!!(window.addEventListener&&window.removeEventListener&&"number"==typeof window.innerHeight&&"number"==typeof window.pageYOffset&&document.querySelector&&document.querySelectorAll),g=(e,t)=>{if(!t){const t=document.querySelector?document.querySelectorAll(u.d).length:(Object(c.b)("missing_document_query_selector"),0);if(t===e)return m("No new items, so skip the viewport-fill check."),{complete:!1,numOfItemsChecked:e};if(!b())return m("Viewport may not be filled yet."),{complete:!1,numOfItemsChecked:t}}return{complete:!0}};function j({isAtEndOfFeed:e,pinData:t,includeBackgroundImages:n,includeVideos:u=!1}){const p=Object(l.c)(),b=null==p?void 0:p.id,v=null==p?void 0:p.setVisuallyCompleteResult,[j,y]=Object(r.useState)({status:"DISABLED"});let O=n,w=u;const S=null!=p&&p.metricId.isAuthenticated?"auth_perf_better_grid_item_detection":"unauth_perf_better_grid_item_detection",{anyEnabled:_}=Object(d.a)(S);_&&(O=!0,w=!0),Object(r.useEffect)(()=>{y(v?{status:"LAYOUT",failedCount:0,numOfItemsChecked:0}:{status:"DISABLED"})},[b,v]),Object(r.useEffect)(()=>{if("DISABLED"!==j.status&&Object(o.c)("GridVisuallyCompleteProfiler_"+j.status),m("new status",j),"LAYOUT"===j.status){const e=((e,t)=>{const n=()=>{window.removeEventListener(e,n),t()};return window.addEventListener(e,n),()=>window.removeEventListener(e,n)})("scroll",()=>{Object(o.c)("scrollDuringLayout")});return()=>{e()}}return()=>{}},[j.status]),Object(i.a)(()=>{if(!p||!v)return;const{abort:n,metricId:r}=p;switch(j.status){case"LAYOUT":{const t=g(j.numOfItemsChecked,e);t.complete?y({status:"TIMING",failedCount:0,pinElements:f(O,w).map(({htmlElement:e,url:t})=>({fileName:(t||"").replace(/.*\//,""),element:e}),[])}):500*j.failedCount>6e4?(Object(c.c)(`images.${Object(a.b)(r)}.visuallyComplete.maxLayoutAttempt`),n("visuallyComplete_layoutTimeout"),y({status:"DISABLED"})):y({...j,failedCount:j.failedCount+1,numOfItemsChecked:t.numOfItemsChecked});break}case"TIMING":{const e=Object(s.c)(),o=j.pinElements.length,i=[];let d=0,l=0,u=0;if(j.pinElements.forEach(({element:t,fileName:n})=>{const r=e.find(e=>("img"===e.initiatorType||"css"===e.initiatorType)&&e.name.endsWith(n));r?r.responseEnd?(i.push(r),Object(h.b)(t,"green")):(u+=1,Object(h.b)(t,"blue")):t instanceof HTMLImageElement&&t.complete?(l+=1,Object(h.b)(t,"red")):(d+=1,Object(h.b)(t,"greenyellow"))}),d||u)100*j.failedCount>6e4?(Object(c.c)(`images.${Object(a.b)(r)}.visuallyComplete.maxAttempt`,{tags:{totalImageCount:o,incompleteCount:d,noTimingCount:l,noTimingResponseEndCount:u}}),n("visuallyComplete_timingTimeout"),y({status:"DISABLED"})):y({...j,failedCount:j.failedCount+1});else if(m(`All ${i.length} images are fetched`),v({imageTimings:i}),y({status:"DISABLED"}),Object(c.c)(`images.${Object(a.b)(r)}.visuallyComplete.complete`,{tags:{totalImageCount:o,noTimingCount:l}}),t&&t.length>0&&_){const e=((e,t)=>{let n=0,r=0,o=0,i=0;return e=e.filter(e=>"pin"===e.type),t.forEach((t,a)=>{var s,c,d,l,u;const p=t.fileName.split(".")[0];let b;b=e[a],p!==b.image_signature&&(b=e.find(e=>p===e.image_signature)||{}),b.is_promoted||"PROMOTED_PIN"===(null===(s=b.recommendation_reason)||void 0===s?void 0:s.reason)||null!==(c=b)&&void 0!==c&&null!==(d=c.promoter)&&void 0!==d&&d.length?o+=1:null!==b.story_pin_data_id&&void 0!==b.story_pin_data_id?n+=1:null!==(l=b)&&void 0!==l&&null!==(u=l.videos)&&void 0!==u&&u.video_list?r+=1:i+=1}),{storyPinCount:n,videoCount:r,adCount:o,imageCount:i}})(t,j.pinElements);Object(c.c)(Object(a.b)(r)+".pinTypes",{tags:e})}break}}},(e=>("LAYOUT"===e.status?500:"TIMING"===e.status&&100)||null)(j))}},"gz6+":function(e,t,n){n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return c}));var r=n("pody"),o=n("+lzj");const i=e=>({...Object(r.a)(e),domComplete:e.domComplete||0,domContentLoadedEventEnd:e.domContentLoadedEventEnd||0,domContentLoadedEventStart:e.domContentLoadedEventStart||0,domInteractive:e.domInteractive||0,loadEventEnd:e.loadEventEnd||0,loadEventStart:e.loadEventStart||0}),a=()=>{const{firstInputDelay:e,largestContentfulPaint:t}=Object(o.e)();return{firstInputDelayStart:(null==e?void 0:e.startTime)||0,firstInputDelayEnd:(null==e?void 0:e.endTime)||0,largestContentfulPaint:t||0}},s=(e,t)=>Object.keys(t).reduce((n,r)=>({...n,[`${e}${r}`]:t[r]}),{}),c=(e,t)=>Object.keys(e).reduce((n,r)=>t.includes(r)?{...n,[r]:e[r]}:n,Object.freeze({}))},l9OW:function(e,t,n){var r=n("SKAX"),o=n("MMmD");e.exports=function(e,t){var n=-1,i=o(e)?Array(e.length):[];return r(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}},"lm/5":function(e,t,n){var r=n("fmRc"),o=n("wF/u");e.exports=function(e,t,n,i){var a=n.length,s=a,c=!i;if(null==e)return!s;for(e=Object(e);a--;){var d=n[a];if(c&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++a<s;){var l=(d=n[a])[0],u=e[l],p=d[1];if(c&&d[2]){if(void 0===u&&!(l in e))return!1}else{var b=new r;if(i)var f=i(u,p,l,e,t,b);if(!(void 0===f?o(p,u,3,i,b):f))return!1}}return!0}},mRg4:function(e,t,n){n.d(t,"a",(function(){return g}));let r=null;var o=(e,t)=>(r=r||{results:[],context:t},r.results.push(e),r),i=n("FZ8N"),a=n("LrH5"),s=n("bNC6"),c=n("3/Bf"),d=n("o9su"),l=n("FylZ");const u=(e,t)=>Object.keys(e).reduce((n,r)=>{const o=e[r];return o&&(n[r]={timestamp:t+o}),n},{}),p=({span:e,timeOrigin:t})=>{return{id:e.id,parent_id:e.parentId||null,result:1,name:e.name,timestamp:t+e.startTime,duration:e.endTime-e.startTime,annotations:u(e.annotationMap,t),binary_annotations:(n=e.binaryAnnotationMap,Object.keys(n).reduce((e,t)=>{const r=n[t];if(!r)return e;const{value:o,type:i}=r;return null==o?e:e.concat({name:t,value:o,annotation_type:i})},[]))};var n},b=(e,{startTime:t,endTime:n,annotationMap:r,binaryAnnotationMap:o,parentId:i,traceId:a})=>({name:"pwt/"+e,startTime:t,endTime:n,annotationMap:r,binaryAnnotationMap:o,parentId:i,id:a}),f=({annotations:e})=>e.reduce((e,{key:t,timestamp:n})=>({...e,["server_"+t]:{timestamp:n}}),{}),h=(e,t)=>({...e,annotations:{...f(t),...e.annotations},binary_annotations:[...t.binary_annotations,...e.binary_annotations]}),m=({traceId:e,actionName:t,result:n,timeOrigin:r,serverDataToJoin:o})=>{let i=p({span:b(t,n),timeOrigin:r}),a=null;return o&&(i=h(i,o),a=((e,t,n)=>{const r=Object(d.a)();return(null==r?void 0:r.responseEnd)?h(p({span:{name:"html",startTime:0,endTime:(null==r?void 0:r.responseEnd)||1,annotationMap:{},binaryAnnotationMap:{},id:e.server_span_id||Object(l.a)(),parentId:t},timeOrigin:n}),e):null})(o,e,r)),{trace_id:e,spans:[i,...a?[a]:[],...n.spans.map(e=>p({span:e,timeOrigin:r}))]}},v=Object(a.a)("reportResult");function g({metricId:e,pwtStaticContext:t,result:n,isAuth:r}){const{ajax:a,serverData:d}=t,l=Object(s.b)(e),u=`${n.type}.${l}`,p=void 0!==r&&{tags:{isAuth:r}}||void 0;if(Object(c.c)(n.reason?u.concat("."+n.reason):u,p),"COMPLETE"!==n.type)return void v("Abort metric "+l,n);const b=null!==(f=window.performance)&&void 0!==f&&f.now?Date.now()-window.performance.now():"unknown";var f,h;if("unknown"===b)return v(`Unable to convert to absolute times for ${l} due to missing time origin`),void Object(c.c)("missingTimeOrigin."+l,p);if(i.c&&(window.PWT_LAB_DATA=o(n,t)),n.spans.length&&(n.spans=n.spans.map(e=>(e.parentId||e.id===n.traceId||"network_resources"===e.name||(e.parentId=n.traceId),e))),!i.c){const r=e.navigationType&&"initial_app_load"===e.navigationType,o=n.traceId,s=m({traceId:o,actionName:l,result:n,timeOrigin:b,serverDataToJoin:r&&d||null});a({type:"POST",url:"/_/_/trace/trace/",data:{report_data:JSON.stringify(s),report_context:JSON.stringify((h=t,{debugTrace:i.a,locale:h.locale,stageName:h.stageName,userId:h.isAuthenticated?h.userId:null}))}}),v(`PinTrace ${l} will be available shortly: https://pintrace.pinadmin.com/zipkin/traces/${o}`,{duration:n.endTime-n.startTime,result:n,pwtStaticContext:t})}}},"mVx/":function(e,t,n){var r=n("XKAG")(n("JELi"));e.exports=r},nEAA:function(e,t,n){n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return s}));const r=e=>"number"==typeof e?Math.round(e):e,o=e=>({type:"I16",value:r(e)}),i=e=>({type:"I32",value:r(e)}),a=e=>({type:"STRING",value:e}),s=e=>({type:"BOOL",value:e})},nKlH:function(e,t,n){n.d(t,"a",(function(){return a}));var r=n("q1tI"),o=n("n6mq"),i=n("nKUr");function a(e){const{accessibilityLabel:t,focused:n,id:a,onBlur:s,onChange:c,onFocus:d,placeholder:l,value:u,size:p="lg"}=e,b=Object(r.useRef)(null);return Object(r.useEffect)(()=>{if(n){const e=b.current;window.requestAnimationFrame(()=>{const t=e&&e.querySelector("input");t instanceof HTMLInputElement&&t.focus()})}},[n]),Object(i.jsx)(o.f,{ref:b,children:Object(i.jsx)(o.P,{accessibilityLabel:t,id:a,onBlur:s,onChange:c,onFocus:d,placeholder:l,size:p,value:u})})}},o9su:function(e,t,n){var r=n("XtwW");t.a=()=>{const[e]=r.a?r.a.getEntriesByType("navigation"):[];return e}},"oCl/":function(e,t,n){var r=n("CH3K"),o=n("LcsW"),i=n("MvSz"),a=n("0ycA"),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,i(e)),e=o(e);return t}:a;e.exports=s},oRM1:function(e,t,n){n.d(t,"a",(function(){return i}));var r=n("q1tI"),o=n("zQfT");function i({allowSearchOnMount:e,children:t,onTypeaheadSuggestionsChange:n,resourceName:i,resourceOptions:a,value:s}){const c=Object(o.a)({allowSearchOnMount:e,resourceName:i,resourceOptions:a,value:s});return Object(r.useEffect)(()=>{c.length&&n(c)},[c]),t||null}},"otv/":function(e,t,n){var r=n("nmnc"),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;e.exports=function(e){return i?Object(i.call(e)):{}}},ou9u:function(e,t,n){function r(e){const t=e.videos&&e.videos.video_list&&Object.keys(e.videos.video_list).length>0?e.videos.video_list:null;return t?t.V_HLSV3_MOBILE||t.V_HLSV4||t.V_720P:null}n.d(t,"a",(function(){return r}))},pody:function(e,t,n){t.a=e=>({connectEnd:e.connectEnd||0,connectStart:e.connectStart||0,domainLookupEnd:e.domainLookupEnd||0,domainLookupStart:e.domainLookupStart||0,fetchStart:e.fetchStart||0,requestStart:e.requestStart||0,redirectEnd:e.redirectEnd||0,redirectStart:e.redirectStart||0,responseEnd:e.responseEnd||0,responseStart:e.responseStart||0,secureConnectionStart:e.secureConnectionStart||0,startTime:e.startTime||0,workerStart:e.workerStart||0,unloadEventStart:e.unloadEventStart||0,unloadEventEnd:e.unloadEventEnd||0})},qnp8:function(e,t,n){n.d(t,"a",(function(){return d}));var r=n("Ye/N"),o=n("EC51"),i=n("M1Uz"),a=n("vvax"),s=n("n6mq"),c=n("nKUr");function d({boardName:e,boardUrl:t,isBoardlessPin:n,newPin:d,onChangeButtonClick:l,onHide:u,onUndo:p,pinImageUrl:b}){const f=Object(c.jsx)(s.f,{color:"lightGray",display:"flex",height:48,overflow:"hidden",width:48,children:Object(c.jsx)(s.f,{alignItems:"center",justifyContent:"center",padding:3,children:Object(c.jsx)(s.v,{accessibilityLabel:r.a._("Saved to profile thumbnail","PostSavedPinToast.thumbnail.accessibilityLabel","Thumbnail for saved to profile."),color:"darkGray",icon:"history",size:24})})}),h=(!!l||!!p)&&Object(c.jsx)(s.g,{inline:!0,text:d&&n&&l?r.a._("Change","PostSavedPinToast.ChangeButton","Change saved pin to a different destination"):r.a._("Undo","PostSavedPinToast.UndoButton","Undo Saved Pin"),size:"lg",onClick:d&&n&&l?()=>l(d):p},"button-key");return Object(c.jsx)(i.a,{button:h,duration:n?6e3:3e3,iconThumbnail:n?f:void 0,imageUrl:b,onHide:u,text:Object(c.jsx)(s.ab,{size:"md",truncate:!0,children:Object(a.b)(r.a._("Saved to {{ destination }}","PostSavedPinToast.SavedToBoardLabel","Saved to label for better save"),{destination:Object(c.jsx)(o.a,{href:n?"/me/":null!=t?t:"",children:Object(c.jsx)(s.ab,{size:"md",weight:"bold",truncate:!0,children:e},"PostSavedPinToastBoardName")})})})})}},s7xj:function(e,t,n){n.d(t,"a",(function(){return u}));var r=n("xweI"),o=n.n(r),i=n("yweb"),a=n("v/Q4"),s=n("n6mq"),c=n("qpbZ"),d=n("nKUr");function l(e){var t,n;const r=null!==(t=e.imageMediumUrl)&&void 0!==t?t:e.image_medium_url;return{name:null!==(n=e.fullName)&&void 0!==n?n:e.full_name,src:"https://s.pinimg.com/images/user/default_75.png"===r?void 0:r}}function u({board:e,forceViewer:t,isCompact:n,ownerOnly:r}){const u=Object(i.c)(),p=Object(a.a)(),b=r?[l(e.owner)]:function(e,t,n){const{collaborated_by_me:r,collaborating_users:i=[],owner:a}=e,s=[a];if(r||n){const e=i.findIndex(e=>t.isAuth&&e.id===t.id);if(-1!==e){const t=i.splice(e,1)[0];s.push(t)}else s.push(t)}const c=o()(i,"full_name");return[...s,...c]}(e,p,t).map(l),f=b.slice(0,3).map(e=>e.name);let h="";switch(b.length){case 3:h=Object(c.c)(""+u._("{{ first }}, {{ second }}, and {{ last }}","CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars","List of three usernames"),{first:""+f[0],second:""+f[1],last:""+f[2]});break;case 2:h=Object(c.c)(""+u._("{{ first }} and {{ second }}","CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.TwoAvatars","List of two usernames."),{first:""+f[0],second:""+f[1]});break;default:h=f.join(", ")}const m=b.length>3?Object(c.c)(", "+u.ngettext("Collaborators: {{ userNames }} and {{ leftCount }} more.","Collaborators: {{ userNames }} and {{ leftCount }} more.",b.length-3,"CollaboratorsFacePile.AvatarGroup.accessibilityLabel.aboveThree","Accessibility label that lists the names of collaborators and a final count of non-displayed avatars"),{userNames:h,leftCount:""+(b.length-3)}):Object(c.c)(", "+u._("Collaborators: {{ userNames }}.","CollaboratorsFacePile.AvatarGroup.accessibilityLabel.notAboveThree","Accessibility label that lists the names of collaborators"),{userNames:h});return Object(d.jsx)(s.c,{accessibilityLabel:m,collaborators:b,size:n?"xs":"sm"})}},seP0:function(e,t,n){n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return d}));var r=n("FZ8N"),o=n("F4HH");const{Provider:i,useHook:a}=Object(o.a)({name:"board_picker",v2LoggerMetricName:16,sampleRate:r.b?1:.1}),s=(e,t)=>{let n="unknown";null!=t&&t.includes("pin/")?n="PinCloseup":"/"===t?n="HomeFeed":"PinBookMarklet"===t&&(n="PinBookmarklet"),null==e||e.addBinaryAnnotation("source",n,"STRING")},c=i,d=a},"ut/Y":function(e,t,n){var r=n("ZCpW"),o=n("GDhZ"),i=n("zZ0H"),a=n("Z0cm"),s=n("+c4W");e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?a(e)?o(e[0],e[1]):r(e):s(e)}},uyxo:function(e,t,n){n.d(t,"a",(function(){return a}));var r=n("jHGc"),o=n("n6mq"),i=n("nKUr");function a(e){const{children:t,currentCarouselIndex:n,onDeleteSavedState:a,onEditSubmit:s,onToggleModal:c,pinId:d,variant:l,viewParameter:u,shouldUseLegoStyles:p}=e,b="pin"===l?{bgColor:"white",iconColor:"darkGray",size:"sm"}:{bgColor:"transparent",iconColor:"darkGray",size:"sm"};return Object(i.jsxs)(o.f,{alignItems:"center",display:"flex",direction:"row",marginStart:"pin"===l?-1:void 0,marginEnd:"pin"===l?-1:void 0,paddingX:"closeup"!==l||p?void 0:2,width:"closeup"===l?"100%":void 0,children:[t&&Object(i.jsx)(o.f,{paddingX:1,"data-test-id":"saved-info",flex:"grow",children:t}),Object(i.jsx)(o.f,{paddingX:1,flex:"none",marginStart:"auto",children:Object(i.jsx)(r.default,{component:0,onDelete:a,onSubmit:s,pinId:d,onToggleModal:c,viewParameter:u,carouselSlotCurrentIndex:n,style:b,shouldUseLegoStyles:p,useLegoStyles:"pin"===l})})]})}},vzKb:function(e,t,n){t.a=(e,t,n)=>{if(!window.PerformanceObserver)return null;try{const r=new window.PerformanceObserver(t);return r.observe(e),window.addEventListener("beforeunload",()=>{r.disconnect()}),n&&window.addEventListener("popstate",()=>{n()}),r}catch(r){return null}}},"w/wX":function(e,t,n){var r=n("QqLw"),o=n("ExA7");e.exports=function(e){return o(e)&&"[object Set]"==r(e)}},wrZu:function(e,t,n){var r=n("+K+b"),o=n("XYm9"),i=n("b2z7"),a=n("otv/"),s=n("yP5f");e.exports=function(e,t,n){var c=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new c(+e);case"[object DataView]":return o(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":return new c;case"[object Number]":case"[object String]":return new c(e);case"[object RegExp]":return i(e);case"[object Set]":return new c;case"[object Symbol]":return a(e)}}},xfna:function(e,t,n){n.d(t,"a",(function(){return q})),n.d(t,"b",(function(){return G})),n.d(t,"c",(function(){return W}));var r=n("q1tI"),o=n("EHyI");var i=e=>{const{deviceType:t,isBot:n,isSocialBot:r}=e;return`coreWebVitalsLite.v1.${(r?"socialBot":n&&"bot")||"nonbot"}.${t}`},a=n("7w6Q"),s=n("LrH5"),c=n("ONNR");const d=Object(s.a)("LayoutShiftDebugger"),l=e=>e instanceof HTMLElement&&e.dataset&&(e.dataset.layoutShiftBoundaryId||e.dataset.testId)||e.parentNode&&l(e.parentNode)||null;var u=({staticContext:e,getCurrentRoute:t,getLastNavigationTime:n})=>{let r=[];const o=i(e)+".CLS";let s=0;const u=()=>{var e;s=null!==(e=window.performance)&&void 0!==e&&e.now?window.performance.now():0};window.addEventListener("scroll",u),window.addEventListener("beforeunload",()=>window.removeEventListener("scroll",u)),Object(c.a)(({entries:e})=>{const o=t(),i=n(),a=e.slice(r.length);r=r.concat(a.map(e=>({shift:e,route:o,hadRecentNavigation:i>0&&i+500>e.startTime,hadRecentScroll:s>0&&s+500>e.startTime})))},!0);let p=0;const b=setInterval(()=>{if(r.length===p)return;const e=r.slice(p);p=r.length;let t=Object.freeze({});e.forEach(({shift:{value:e,sources:n},route:r,hadRecentNavigation:o,hadRecentScroll:i})=>{if(!n||!n.length)return;const a=e/n.length;n.forEach(({node:e})=>{const n=e?l(e)||"ROOT":"NODE_REMOVED",s={route:r,boundaryId:n,hadRecentNavigation:o,hadRecentScroll:i},c=JSON.stringify(s);t={...t,[c]:{score:((t[c]||{}).score||0)+a,tags:s}}})}),Object.keys(t).forEach(e=>{const{score:n,tags:r}=t[e];a.a.count(o+".shifts",(e=>Math.round(1e3*e))(n),1,{...r})});const n=e.reduce((e,{shift:{value:t}})=>e+t,0);d("Debug CLS boundaries",n,t,e)},1e3);window.addEventListener("beforeunload",()=>clearInterval(b))};var p=e=>{switch(e){case"/":return"homefeed";case"/pin/:id":return"pin_closeup";case"/pin/:id/visual-search":return"flashlight";case"/:username/:slug":return"board";case"/:username":return"other_profile";case"/search/:scope":return"search";case"/topics/:interest":return"topic";default:return null}},b=n("gg0E"),f=n("SyXB"),h=n("FZ8N"),m=n("3/Bf"),v=n("+lzj"),g=n("HMdf"),j=n("o9su");var y=()=>Object(v.c)().reduce((e,{identifier:t,loadTime:n,renderTime:r})=>e[t+"_loadTime"]?e[t+"_dupe_loadTime"]?{...e,[t+"_dupe_loadTime"]:n,[t+"_dupe_renderTime"]:r}:e:{...e,[t+"_loadTime"]:n,[t+"_renderTime"]:r},Object.freeze({})),O=n("pody"),w=n("gz6+"),S=n("Og0o");var _=e=>{switch(e){case"pin_closeup":{const e=Object(S.b)();return(e=>{const t=Object(g.d)();return e.reduce((e,{name:n,match:r})=>t.filter(e=>r(e)).slice(0,2).reduce((e,t,r)=>({...e,...Object(w.a)(`${n}${r?"_dupe1":""}_`,Object(O.a)(t))}),e),Object.freeze({}))})([{name:"mainImage",match:({name:t})=>t===e},{name:"PinResource",match:({name:e})=>e.includes("PinResource")}])}default:return{}}},x=n("B/lV"),T=n("vzKb"),I=n("FylZ"),C=n("mRg4"),B=n("LvPn"),E=n("fZG9");var P=({annotateExperiments:e,annotateMarks:t,annotateResourceTimingForSurface:n,name:r,pwtStaticContext:o})=>{const i=(()=>{let e=[],t=null;if(window.PerformanceObserver){const n=1e3;t=Object(T.a)({entryTypes:["resource"]},t=>{e=e.concat(t.getEntries()),e.length>n&&(e=e.slice(-n))})}return{get:()=>e,disconnect:()=>{t&&t.disconnect()}}})();let a=!0;return Object(m.c)("TIMING."+r,{tags:{isAuth:o.isAuthenticated}}),{stop:s=>{if(!a)return;a=!1,i.disconnect();const c={type:"stopwatch",name:r,navigationType:"initial_app_load"},d=Object(I.a)(),l=Object(j.a)(),u=i.get(),p={type:"COMPLETE",traceId:Object(I.a)(),startTime:0,endTime:s,spans:[{name:"network_resources",id:d,startTime:0,endTime:s,annotationMap:{},binaryAnnotationMap:{},parentId:null},...u.map(e=>Object(B.a)(Object(x.a)(e,[]),d)).filter(Boolean)],annotationMap:{...Object(w.a)("resource_",n?_(n):{}),...Object(w.a)("element_",y()),...Object(w.a)("mark_",t&&t.length?Object(w.d)(Object(f.d)(),t):{}),...Object(w.a)("browser_",l?Object(w.b)(l):{})},binaryAnnotationMap:Object(E.a)({annotateExperiments:e,metricId:c,pwtStaticContext:o,performanceResourceTimings:u})};Object(C.a)({metricId:c,pwtStaticContext:o,result:p,isAuth:o.isAuthenticated})}}};const L=()=>({current:0,entries:[],firstTs:Number.NEGATIVE_INFINITY,id:`v1-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,max:0,prevTs:Number.NEGATIVE_INFINITY});var A=e=>{let t,n=L();const r=()=>{"hidden"===document.visibilityState&&(void 0===t||n.max>t)&&(t=n.max,e({name:"CLS",value:n.max,delta:0,id:n.id,entries:n.entries}))},o=e=>{e.hadRecentInput||((e.startTime-n.firstTs>5e3||e.startTime-n.prevTs>1e3)&&(n.firstTs=e.startTime,n.current=0),n.prevTs=e.startTime,n.current+=e.value,n.max=Math.max(n.max,n.current),n.entries.push(e),r())},i=((e,t)=>{try{if(window.PerformanceObserver.supportedEntryTypes.includes(e)){const n=new window.PerformanceObserver(e=>e.getEntries().map(t));return n.observe({type:e,buffered:!0}),n}}catch(n){}return null})("layout-shift",o);var a;i&&((e=>{const t=t=>{"pagehide"!==t.type&&"hidden"!==document.visibilityState||e()};window.addEventListener("visibilitychange",t,!0),window.addEventListener("pagehide",t,!0)})(()=>{i.takeRecords().map(o),r()}),a=()=>{n=L(),t=void 0},window.addEventListener("pageshow",e=>{e.persisted&&a()},!0))};const R=Object(s.a)("Vitals"),k={pin_closeup:{LCP:"pin_closeup_lcp",FID:"pin_closeup_fid"},board:{LCP:"board_lcp",FID:"board_fid"}},D=({surface:e,isAuthenticated:t})=>{if(t)return[];switch(e){case"pin_closeup":return["mweb_srcset_original_image","mweb_pin_page_ssr_lite"];case"board":return["mweb_unauth_ssr_board_page"];default:return[]}},M=({pwtStaticContext:e,surface:t})=>{const n="pin_closeup"===t||"board"===t?(({pwtStaticContext:e,surface:t})=>{const n=P({annotateExperiments:D({surface:t,isAuthenticated:e.isAuthenticated}),annotateResourceTimingForSurface:t,annotateMarks:["initialAppLoad","RenderReactContainer",...e.isAuthenticated?[]:["firstClientRenderUnauthPageWrapper","mountUnauthPageWrapper"],..."pin_closeup"===t?["firstClientRenderCloseupPage","firstClientRenderCloseupImage"]:[]],name:k[t].LCP,pwtStaticContext:e}),r=P({name:k[t].FID,pwtStaticContext:e});return(e,t)=>{"LCP"===e?n.stop(t):"FID"===e&&r.stop(t)}})({pwtStaticContext:e,surface:t}):null,r={},o=(o,s)=>{if(!r[o]){r[o]=!0;const c=i(e);if("LCPCount"===o){const n="enabled"===e.getExperimentGroup("mweb_pin_page_ssr_lite"),r=`${c}.${t}.${n?"mweb_pin_page_ssr_lite.":""}${o}`;a.a.count(r+".sum",s,1),a.a.increment(r+".size",1)}else a.a.timing(`${c}.${t}.${o}`,s,1),n&&n(o,s)}};Object(c.c)(({value:e})=>o("FID",(e=>Number(e.toFixed(2)))(e))),Object(c.d)(({value:e})=>{o("LCPCount",Object(v.d)()),o("LCP",(e=>10*Math.round(e/10))(e))}),Object(c.b)(({value:e})=>o("FCP",e))},N=e=>{const{isAuthenticated:t}=e,n=i(e)+".CLS";let r=null;A(({id:e,value:o})=>{const i=(s=o)<=.1?"good":s<=.25?"adequate":"poor";var s,c;r&&e===r.id?o>r.value&&(r.invalidation||(r={...r,invalidation:"score"},a.a.increment(n+".firstReportScoreWasInvalid",1,{bucket:r.bucket,isAuthenticated:t}),R("First record score was invalid")),"scoreAndBucket"!==!r.invalidation&&i!==r.bucket&&(r={...r,invalidation:"scoreAndBucket"},a.a.increment(n+".firstReportBucketWasInvalid",1,{bucket:r.bucket,isAuthenticated:t}),R("First record bucket was invalid"))):(r={id:e,value:o,bucket:i},a.a.timing(n+".firstRecordScore",(c=o,Math.ceil(100*c)),1),a.a.increment(n+".firstRecord",1,{bucket:i,isAuthenticated:t}),R("CLS report",o))})};var F=n("EC67"),U=n("nKUr");const H=Object(r.createContext)(null),z=Object(r.createContext)(null);function q({children:e,immutableLocation:t,resourceTimingCacheSize:n,routerHistoryAction:i,staticContext:a}){const s=Object(r.useRef)(null),c=Object(r.useRef)(null),d=Object(r.useRef)(t),l=Object(r.useRef)(!0),{path:j}=Object(F.k)(),y=Object(r.useRef)(j),O=Object(o.a)(a.deviceType);if(Object(r.useEffect)(()=>{y.current=j},[j]),Object(r.useEffect)(()=>{if(Object(g.f)({size:n||1e3}),Object(v.f)(),Object(m.c)("totalSessionVolume"),window.performance?["clearMarks","clearMeasures","clearResourceTimings","getEntries","getEntriesByName","getEntriesByType","mark","measure","now","setResourceTimingBufferSize"].forEach(e=>{window.performance[e]||Object(m.c)("not_supported.window.performance."+e)}):Object(m.c)("not_supported.window.performance"),window.PerformanceObserver||Object(m.c)("not_supported.window.PerformanceObserer"),Object(b.a)()||Object(m.c)("not_supported.grid_profiler"),l.current=!1,O&&"Chrome"===a.browserName&&!h.c){N(a),u({staticContext:a,getCurrentRoute:()=>y.current,getLastNavigationTime:()=>c.current||0});const e=p(j);e&&M({pwtStaticContext:a,surface:e})}},[]),d.current!==t){d.current=t,c.current=null!==(w=window.performance)&&void 0!==w&&w.now?window.performance.now():null;const{current:e}=c;if(!l.current){const t=!s.current;Object(m.c)("routeStart",{tags:{action:i}}),Object(g.a)(t),Object(v.a)(t),Object(v.b)(),Object(f.b)();const{customBufferSize:n,defaultBufferSize:r}=Object(g.e)();e&&(Object(m.c)("routeStart.customBufferSize",{count:n}),Object(m.c)("routeStart.defaultBufferSize",{count:r}),s.current={time:e,action:i})}}var w;return Object(U.jsx)(H.Provider,{value:O?a:null,children:Object(U.jsx)(z.Provider,{value:s.current,children:e})})}const G=()=>Object(r.useContext)(z),W=()=>Object(r.useContext)(H)},xweI:function(e,t,n){var r=n("XGnz"),o=n("alwl"),i=n("EA7m"),a=n("mv/X"),s=i((function(e,t){if(null==e)return[];var n=t.length;return n>1&&a(e,t[0],t[1])?t=[]:n>2&&a(t[0],t[1],t[2])&&(t=[t[0]]),o(e,r(t,1),[])}));e.exports=s},y2Ga:function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a}));var r=n("1dBE");const{Consumer:o,Provider:i,useHook:a}=Object(r.b)("pwtSurfaceContext")},yHx3:function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},yKES:function(e,t,n){n.d(t,"a",(function(){return s}));var r=n("Ye/N"),o=n("US8k"),i=n("n6mq"),a=n("nKUr");function s({duration:e}){return Object(a.jsxs)(i.f,{alignItems:"center",color:"transparentDarkGray",display:"flex",height:24,justifyContent:"center",paddingX:2,rounding:"pill",children:[Object(a.jsx)(i.v,{accessibilityLabel:r.a._("Video camera icon","Video camera indicator icon for a Pin","Video camera indicator icon for a Pin"),color:"white",icon:"video-camera"}),Object(a.jsx)(i.f,{marginStart:1,children:Object(a.jsx)(i.ab,{color:"white",size:"sm",truncate:!0,children:Object(o.a)(e)})})]})}},yue5:function(e,t,n){var r=n("/9aa");e.exports=function(e,t){if(e!==t){var n=void 0!==e,o=null===e,i=e==e,a=r(e),s=void 0!==t,c=null===t,d=t==t,l=r(t);if(!c&&!l&&!a&&e>t||a&&s&&d&&!c&&!l||o&&s&&d||!n&&d||!i)return 1;if(!o&&!a&&!l&&e<t||l&&n&&i&&!o&&!a||c&&n&&i||!s&&i||!d)return-1}return 0}},zEVN:function(e,t,n){var r=n("Gi0A"),o=n("sEf8"),i=n("mdPL"),a=i&&i.isMap,s=a?o(a):r;e.exports=s},zQfT:function(e,t,n){n.d(t,"a",(function(){return d}));var r=n("q1tI");const o=function(e,t){this.uid=e,this.item=t,this.next=null,this.prev=null},i=function(e){this._maxNumItems=e||10,this._uidToData={},this._numItems=0,this._firstData=null,this._lastData=null};i.prototype.set=function(e,t){let n=this._uidToData[e];n||(n=new o(e,t),this._uidToData[e]=n,this._numItems+=1),this._moveToFront(n),this._numItems>this._maxNumItems&&this._evict()},i.prototype.get=function(e){const t=this._uidToData[e];return t?(this._moveToFront(t),t.item):null},i.prototype.remove=function(e){const t=this._uidToData[e];t&&(delete this._uidToData[e],this._firstData===t&&(this._firstData=t.next),this._lastData===t&&(this._lastData=t.prev),t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),this._numItems-=1)},i.prototype._moveToFront=function(e){this._firstData!==e&&(this._firstData?(this._lastData===e&&(this._lastData=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),this._firstData.prev=e,e.next=this._firstData,e.prev=null,this._firstData=e):(this._firstData=e,this._lastData=e))},i.prototype._evict=function(){delete this._uidToData[this._lastData.uid],this._firstData===this._lastData?(this._firstData=null,this._lastData=null):(this._lastData=this._lastData.prev,this._lastData.next=null),this._numItems-=1};var a=i,s=n("eOdZ");function c({resourceName:e,resourceOptions:t}){const n={...t,count:"count"in t?t.count:5},r=s.a.create(e,n),o=new a,i=()=>{r.abort()};return async function(e){const t=o.get(e);if(t){const n=t.items;if(n&&n.length){i();return{hint:t.hint,items:n,term:e}}}return e.length>=0?(async e=>{if(r.isCalling()){var t;if(e===(null===(t=r.options)||void 0===t?void 0:t.term))return;i()}const{bookmarks:n,...a}=r.options||{};r.options={...a,term:e};const s=(await r.callGet({showError:!1})).resource_response.data,c=s.items,d=s.hint||{},l={hint:d,items:c};return o.set(e,l),{term:e,items:c,hint:d}})(e):{hint:{},items:[],term:e}}}function d({allowSearchOnMount:e=!1,resourceName:t,resourceOptions:n={},value:o}){const i=Object(r.useRef)(!1),a=Object(r.useRef)({}),[s,d]=Object(r.useState)([]),l=function({resourceName:e,resourceOptions:t}){const n=Object(r.useRef)();return n.current||(n.current=c({resourceName:e,resourceOptions:t})),n.current}({resourceName:t,resourceOptions:n});return Object(r.useEffect)(()=>{(async()=>{if(null!=o&&(e||i.current))if(o in a.current)d(a.current[o]);else try{const e=await l(o);if(e){const{items:t}=e;a.current[o]=t,d(t)}}catch(t){if("Resource call aborted"===t)return;throw t}i.current||(i.current=!0)})()},[o]),s}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/PinBetterSaveCommon-ac6b1357a3cb7dab3802.mjs.map