(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[103],{"0BOE":function(e,t,n){n.d(t,"a",(function(){return r}));const i={á:"a",à:"a",â:"a",ä:"a",ã:"a",å:"a",æ:"a",ç:"c",é:"e",è:"e",ê:"e",ë:"e",í:"i",ì:"i",î:"i",ï:"i",ñ:"n",ó:"o",ò:"o",ô:"o",ö:"o",õ:"o",ø:"o",œ:"o",ß:"s",ú:"u",ù:"u",û:"u",ü:"u"},o=e=>{if(!e)return"";let t="";for(let n=0;n<e.length;n+=1)t+=i[e.charAt(n)]||e.charAt(n);return t},r=(e,t,n="name")=>{const i=t.toLowerCase();return e.filter(e=>((e,t)=>{const n=t.split(" "),i=e.split(" ");let r=0;for(let s=0;s<i.length;s+=1)(o(i[s]).includes(n[r])||i[s].includes(n[r]))&&(r+=1);return r===n.length})(e[n].toLowerCase(),i))}},"2WXK":function(e,t,n){var i=n("q1tI");let o=null,r=!1,s=0;const c=()=>{o&&clearTimeout(o),r=!0,o=setTimeout(()=>{r=!1},100)};t.a=()=>{const[e,t]=Object(i.useState)(!1),n=Object(i.useRef)(null);Object(i.useEffect)(()=>(0===s&&window.addEventListener("scroll",c),s+=1,()=>{n.current&&clearTimeout(n.current),s-=1,s||window.removeEventListener("scroll",c)}),[]);const o=e=>{n.current&&clearTimeout(n.current),n.current=e&&r?setTimeout(()=>o(!0),100):setTimeout(()=>{t(e)},32)};return{isHovering:e,hoverHandlers:Object(i.useRef)({onMouseOver:()=>o(!0),onMouseLeave:()=>o(!1)}).current}}},"3z7j":function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("Wer7");function o(e,t){return n=>n(Object(i.a)("BoardSectionResource",{field_set_key:t||"board_page",section_id:e}))}},"8cMa":function(e,t,n){var i=n("Ye/N"),o=n("n6mq"),r=n("nKUr");t.a=function({type:e}){const t={group:{accessibilityLabel:i.a._("group board","Board picker group board icon","Board picker group board icon"),icon:"people"},protected:{accessibilityLabel:i.a._("protected board","Board picker protected board icon","Board picker protected board icon"),icon:"protect"},secret:{accessibilityLabel:i.a._("secret board","Board picker secret board icon","Board picker secret board icon"),icon:"lock"},sections:{accessibilityLabel:i.a._("board with sections","Board picker board with sections icon","Board picker board with sections icon"),icon:"arrow-forward"},sectionsInline:{accessibilityLabel:i.a._("board with sections","Board picker board with sections icon","Board picker board with sections icon"),icon:"arrow-down"}}[e];return Object(r.jsx)(o.f,{marginStart:1,children:Object(r.jsx)(o.f,{marginStart:2,children:"sections"===e||"sectionsInline"===e?Object(r.jsx)(o.v,{accessibilityLabel:t.accessibilityLabel,icon:t.icon,size:"12",color:"darkGray"}):Object(r.jsx)(o.v,{accessibilityLabel:t.accessibilityLabel,icon:t.icon,size:16,color:"darkGray"})})})}},"9QW3":function(e,t,n){n.d(t,"a",(function(){return s}));const i={row:0,section:0},o={row:-1,section:-1},r=()=>{};class s{constructor(e){this.index=Object.assign({},i),this.sections=e,this.updateCallback=r,this.selectItem=r}getIndex(){return this.index}isAtStart(){const{row:e,section:t}=this.index;return 0===e&&0===t}isAtEnd(){const{row:e,section:t}=this.index,n=this.sections[t]||[];return this.sections.length===t+1&&n.length===e+1}next(){if(this.isAtEnd())return;const{row:e,section:t}=this.index;e===o.row&&t===o.section?this.index=Object.assign({},i):this.sections[t].length>e+1?this.index.row+=1:(this.index.section+=1,this.index.row=0),this.updateCallback(!0)}prev(){if(this.isAtStart())return;const{row:e,section:t}=this.index;if(e===o.row&&t===o.section)this.index=Object.assign({},i);else if(e>0)this.index.row-=1;else{const e=this.index.section-1;this.index={section:e,row:this.sections[e].length-1}}this.updateCallback(!0)}select(){const{row:e,section:t}=this.index;this.selectItem((this.sections[t]||[])[e])}setInactive(){this.index=Object.assign({},o),this.updateCallback()}setSelectItem(e){this.selectItem=e}setUpdateCallback(e){this.updateCallback=e}updateIndex(e){this.index=e,this.updateCallback()}}},GBVV:function(e,t,n){n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var i=n("n6mq"),o=n("nKUr");const r={__style:{margin:"0 10px",borderRight:"3px solid transparent",borderTop:"3px solid #fff",animation:"spin .8s linear infinite"}};function s(){return Object(o.jsx)(i.f,{alignItems:"center",color:"red",display:"flex",height:"100%",justifyContent:"center",position:"absolute",width:"100%",rounding:8,children:Object(o.jsx)(i.f,{dangerouslySetInlineStyle:r,display:"inlineBlock",height:18,position:"relative",rounding:"circle",width:18})})}function c({disabled:e,name:t,onClick:n,size:r,submitting:c,text:a}){return Object(o.jsxs)(i.f,{display:"flex",position:"relative",children:[c&&Object(o.jsx)(s,{}),Object(o.jsx)(i.g,{color:"red",disabled:e||c,inline:!0,name:t,onClick:n,size:r,type:"submit",text:a})]})}},IBrh:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("q1tI"),o=n("mEMi"),r=(n("9QW3"),n("n6mq")),s=n("nKUr");function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class a extends i.Component{constructor(e){super(e),c(this,"setSelectedItemRef",e=>{this.selectedItemRef=e}),c(this,"handleIndexUpdate",e=>{const{indexManager:t}=this.props;this.setState({selectedIndex:t.getIndex(),selectionMovedByKeyboard:!!e})}),c(this,"handleSelectItem",e=>()=>{const{disabled:t,onSelectItem:n}=this.props;t||n(e)}),c(this,"handleMouseEnter",e=>()=>{const{disabled:t,indexManager:n}=this.props;t||n.updateIndex(e)}),c(this,"handleMouseLeave",()=>{const{disabled:e,indexManager:t}=this.props;e||t.setInactive()}),c(this,"renderItems",(e,t)=>{const{renderItem:n}=this.props,{selectedIndex:i}=this.state,{row:o,section:c}=i||{},{customProps:a={},items:d,renderItem:l}=e,{isDisabled:u=(e=>!1)}=a,h=t===c,b=l||n;return b&&d.map((e,n)=>{const i=u(e),c={section:t,row:n},d=h&&n===o;return Object(s.jsx)(r.f,{"data-test-id":"board-selection",ref:!i&&d?this.setSelectedItemRef:null,children:i?b({item:e,hovered:d,sectionProps:a}):Object(s.jsx)(r.Z,{fullWidth:!1,onMouseEnter:this.handleMouseEnter(c),onMouseLeave:this.handleMouseLeave,onTap:this.handleSelectItem(e),rounding:2,children:b({item:e,hovered:d,sectionProps:a})})},n)})}),c(this,"renderSections",()=>{const{renderSectionHeader:e,sections:t}=this.props;return t.map((t,n)=>Object(s.jsxs)(r.f,{children:[e&&e(t,n),this.renderItems(t,n)]},n))});const{indexManager:t}=this.props;this.state={selectedIndex:t.getIndex(),selectionMovedByKeyboard:!1},t.setUpdateCallback(this.handleIndexUpdate)}componentDidUpdate(e){const{containerRef:t}=this;if(this.selectedItemRef&&this.state.selectionMovedByKeyboard&&t){const e=this.selectedItemRef;if(!(e instanceof HTMLElement))return;const n=e.getBoundingClientRect(),i=n.top,o=n.bottom,r=t.getBoundingClientRect(),s=r.top;o>=r.bottom?e.scrollIntoView(!1):i<=s&&e.scrollIntoView(!0)}e.indexManager!==this.props.indexManager&&this.props.indexManager.setUpdateCallback(this.handleIndexUpdate)}render(){const{grow:e=!1,maxHeight:t,fetchMore:n}=this.props;return Object(s.jsx)(o.a,{fetchMore:n,children:({setRef:n,onScroll:i})=>Object(s.jsx)(r.f,{flex:e?"grow":void 0,height:e?"100%":void 0,maxHeight:t,onScroll:i,overflow:"auto",ref:e=>{this.containerRef=e,n(e)},children:this.renderSections()})})}}},NdQN:function(e,t,n){var i=n("q1tI"),o=n("JW66"),r=n("Ye/N"),s=(n("9QW3"),n("n6mq")),c=n("nKUr");function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends i.Component{constructor(...e){super(...e),a(this,"setInputRef",e=>{e&&(this._input=e)}),a(this,"handleKeyDown",e=>{const{disabled:t,indexManager:n}=this.props;if(!t)switch(e.which){case o.a.KeyCode.ENTER:case o.a.KeyCode.NUMPAD_ENTER:e.preventDefault(),n.select();break;case o.a.KeyCode.UP:e.preventDefault(),n.prev();break;case o.a.KeyCode.DOWN:e.preventDefault(),n.next()}})}componentDidMount(){this._input&&this._input.focus()}render(){const{onChange:e,value:t}=this.props;return Object(c.jsx)("div",{onKeyDown:this.handleKeyDown,role:"presentation",style:{width:"100%"},children:Object(c.jsx)(s.P,{accessibilityLabel:"",id:"pickerSearchField",onChange:({value:t})=>e(t),placeholder:r.a._("Search","search bar placeholder text","search bar placeholder text"),ref:this.setInputRef,size:"lg",value:t})})}}t.a=d},Sihc:function(e,t,n){n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return u}));var i=n("Pqnw"),o=n("uVIr"),r=n("VqlB"),s=n("eOdZ"),c=n("oN2T"),a=n("KFEb"),d=n("Wer7");function l(e,t){return{type:"SECTION_ADDED",payload:{boardId:e,section:t}}}function u({boardId:e,name:t,nameSource:n,pinImport:u,initialPinIds:h=[]}){let b=0;"RECOMMENDATION"===n?b=1:"EDITED_RECOMMENDATION"===n&&(b=2);const p={board_id:e,initial_pins:u&&!u.all?u.pinIds:h,name:t,name_source:b};return t=>s.a.create("BoardSectionResource",p).callCreate({showError:!1}).then(({resource_response:{data:n}})=>{t(l(e,n)),t(Object(o.a)({feedId:e,feedType:a.a.BOARD_SECTIONS,itemIds:[n.id],itemType:"board_section"})),t(Object(c.c)(e,"pin_count")),t(Object(d.f)("BoardSectionsRepinResource",{board_id:e}));const{all:s,pinIds:h}=u||{all:!1,pinIds:[]};return s?new Promise((i,o)=>t(Object(r.a)({inverseSelection:!0,selectedPinIds:h,source:{boardId:e,sectionId:null},target:{boardId:e,sectionId:n.id}})).then(()=>i(n)).catch(o)):(h.length>0&&t(Object(i.a)(a.a.BOARD_PINS,e)),n)})}},VqlB:function(e,t,n){n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return I}));var i=n("3z7j"),o=n("Pqnw"),r=n("uVIr"),s=n("MhBu"),c=n("eOdZ"),a=n("oN2T"),d=n("KFEb"),l=n("1inl"),u=n("Ye/N");function h(e){l.a.showError(function(e){switch(e.api_error_code){case 2171:case 2172:case 2173:return u.a._("Please wait until the previous board action finishes.");default:return e.message}}(e))}const b=e=>Object(o.a)(e.sectionId?d.a.SECTION_PINS:d.a.BOARD_PINS,e.sectionId||e.boardId);function p(e,t){const{source:n,target:o}=e;o.boardId!==n.boardId?(t(Object(a.c)(n.boardId,"pin_count")),t(Object(a.c)(o.boardId,"pin_count"))):n.sectionId&&o.sectionId||t(Object(a.c)(o.boardId,"pin_count")),n.sectionId&&t(Object(i.a)(n.sectionId)),o.sectionId&&t(Object(i.a)(o.sectionId))}function f(e){return t=>{const{selectedPinIds:n,source:i,target:o}=e;t(Object(s.a)({feedId:i.sectionId||i.boardId,feedType:i.sectionId?d.a.SECTION_PINS:d.a.BOARD_PINS,itemIds:n,itemType:"pin"})),t(Object(r.a)({feedId:o.sectionId||o.boardId,feedType:o.sectionId?d.a.SECTION_PINS:d.a.BOARD_PINS,itemIds:n,itemType:"pin"})),p(e,t)}}function I(e){return t=>function(e,t){const{inverseSelection:n,selectedPinIds:i,source:o,target:a}=e;if(o.boardId===a.boardId&&(o.sectionId||null)===(a.sectionId||null))return Promise.reject();if(n){const e={board_id:o.boardId,new_board_id:a.boardId,old_section_id:o.sectionId||void 0,new_section_id:a.sectionId||void 0,pin_ids:i};return c.a.create("BulkEditSelectAllResource",e).callUpdate({showError:!1}).then(()=>Promise.all([t(b(o)),t(b(a))])).catch(h)}{const e=(e,n)=>{t(Object(s.a)({feedId:e.sectionId||e.boardId,feedType:e.sectionId?d.a.SECTION_PINS:d.a.BOARD_PINS,itemIds:i,itemType:"pin"})),t(Object(r.a)({feedId:n.sectionId||n.boardId,feedType:n.sectionId?d.a.SECTION_PINS:d.a.BOARD_PINS,itemIds:i,itemType:"pin"}))};e(o,a);const n=()=>e(a,o);if(a.boardId===o.boardId){if(a.sectionId){const e={section_id:a.sectionId,pins:i};return c.a.create("BoardSectionEditResource",e).callUpdate({showError:!1}).catch(e=>{n(),h(e)})}{const e={section_id:o.sectionId,pins:i};return c.a.create("BoardSectionPinsResource",e).callDelete({showError:!1}).catch(e=>{n(),h(e)})}}{const e={board_id:a.boardId,section_id:a.sectionId||void 0,pin_ids:i};return c.a.create("BulkEditResource",e).callUpdate({showError:!1}).catch(e=>{n(),h(e)})}}}(e,t).then(()=>p(e,t))}},gdcG:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("2WXK"),o=n("nKUr");function r(e){return function(t){const{isHovering:n,hoverHandlers:r}=Object(i.a)();return Object(o.jsx)(e,{...t,hoverHandlers:r,isHovering:n})}}},jdx6:function(e,t,n){n.d(t,"b",(function(){return a}));var i=n("8cMa"),o=n("JW66"),r=n("Ye/N"),s=n("n6mq"),c=n("nKUr");function a(e,t=""){const n=e&&e.length>1?new RegExp(e,"i"):"";return e&&e.length>1?t.split(n).reduce((n,i,o)=>{if(n.length>0&&e&&e.length){const r=t.toLowerCase().indexOf(e.toLowerCase());return n.concat(Object(c.jsx)("em",{style:{borderBottom:"1px solid #333",fontStyle:"normal",paddingBottom:"1px"},children:t.substring(r,r+e.length)},o),i)}return[i]},[]):t}t.a=function(e){const{disabled:t,item:n,isSection:d,isSelectMode:l,isWithinSectionPicker:u,saveState:h,searchQuery:b,selected:p}=e,f=d?null:n,I=d?n:null,g=I&&I.title||f&&f.name||"";let j="",m=!1,x="",O=0;f&&({image_cover_url:j,is_collaborative:m,privacy:x,section_count:O=0}=f);const y=a(b,g),_=x===o.a.BoardPrivacy.SECRET,w=!t&&(p||!!h),v=!u&&"number"==typeof O&&O>0,S="number"==typeof O&&O>0?"boardWithSection":"boardWithoutSection",E=l?r.a._("Select","Board select button label","Board select button label"):r.a._("Save","Pin save button label","Pin save button label");return Object(c.jsxs)(s.f,{alignItems:"center",color:w?"lightGray":"white",display:"flex",paddingX:6,paddingY:2,"data-test-id":S,children:[f?Object(c.jsx)(s.f,{height:36,width:36,color:"lightGray",overflow:"hidden",rounding:2,marginEnd:2,flex:"none",children:j?Object(c.jsx)(s.x,{src:j,alt:g,fit:"cover",naturalWidth:1,naturalHeight:1}):Object(c.jsx)("span",{})}):Object(c.jsx)(s.f,{height:36,paddingX:2}),Object(c.jsxs)(s.f,{alignItems:"center",justifyContent:"between",display:"flex",flex:"grow",children:[Object(c.jsx)(s.ab,{color:t?"gray":"darkGray",size:"md",truncate:!0,weight:"bold",children:y}),(v||!w)&&Object(c.jsxs)(s.f,{alignItems:"center",display:"flex",children:[_&&Object(c.jsx)(i.a,{type:"secret"}),m&&Object(c.jsx)(i.a,{type:"group"}),v&&Object(c.jsx)(i.a,{type:"sections"})]}),!v&&w&&!h&&Object(c.jsxs)(s.f,{alignItems:"center",color:"red","data-test-id":"BoardPickerSaveButton",display:"flex",flex:"none",paddingX:3,paddingY:2,rounding:4,children:[!l&&Object(c.jsx)(s.f,{dangerouslySetInlineStyle:{__style:{marginRight:3,marginLeft:-6}},children:Object(c.jsx)(s.v,{accessibilityLabel:"",color:"white",icon:"pin",inline:!0,size:20})}),Object(c.jsx)(s.ab,{color:"white",overflow:"normal",size:"md",weight:"bold",children:E})]}),!v&&w&&"loading"===h&&Object(c.jsx)(s.f,{dangerouslySetInlineStyle:{__style:{transform:"scale(0.7)"}},maxHeight:35,children:Object(c.jsx)(s.T,{accessibilityLabel:r.a._("Saving","Accessibility label for saving a pin to a board","Accessibility label for saving a pin to a board"),show:!0})})]})]})}},mEMi:function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("q1tI"),o=n("DzJC"),r=n.n(o);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends i.PureComponent{constructor(...e){super(...e),s(this,"setContainerRef",e=>{this.containerRef=e}),s(this,"fetchMoreIfNecessary",r()(()=>{const{fetchMore:e,scrollBuffer:t}=this.props;e&&this.containerRef&&(({scrollTop:e,clientHeight:t,scrollHeight:n},i)=>e+t+(i?i(t):2*t)>n)(this.containerRef,t)&&e()},200))}componentDidMount(){setTimeout(this.fetchMoreIfNecessary)}componentDidUpdate(){this.fetchMoreIfNecessary()}render(){const{children:e}=this.props;return e({onScroll:this.fetchMoreIfNecessary,setRef:this.setContainerRef})}}},uVIr:function(e,t,n){function i(e){return{type:"FEED_ITEMS_ADDED",payload:e}}n.d(t,"a",(function(){return i}))}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/103-daec838c6ca3a3f1c58b.mjs.map