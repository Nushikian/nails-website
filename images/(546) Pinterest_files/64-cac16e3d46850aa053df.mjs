(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[64],{"3R0Q":function(n,t,a){t.a=n=>{let t={};n.forEach(({label:n,timestamp:a})=>{t={...t,[n]:(t[n]||[]).concat([a])}});let a=Object.freeze({});return Object.keys(t).forEach(n=>{(t[n]||[]).forEach((t,e)=>{const o=e?`${n}_${e+1}`:n;a={...a,[o]:t}})}),a}},F4HH:function(n,t,a){var e=a("q1tI"),o=a("3R0Q"),i=a("o9su"),r=a("B/lV"),s=a("vzKb"),p=a("FylZ"),c=a("mRg4"),u=a("LvPn"),d=a("XtwW"),m=a("LrH5"),b=a("fZG9"),l=a("xfna"),y=a("gz6+"),A=a("3/Bf");const T=Object(m.a)("PwtStopwatch"),f=(n,t)=>{if(d.a){if("start"===t.type&&!n.isTiming){const{name:a,startTime:e,navigationType:o}=t;return Object(A.c)("TIMING."+a),{isTiming:!0,isSampled:t.isSampled,startTime:"number"==typeof e?e:d.a.now(),metricId:{type:"stopwatch",name:a,navigationType:o},pwtStaticContext:t.pwtStaticContext,annotations:n.annotations,binaryAnnotations:n.binaryAnnotations,spans:n.spans,traceId:n.traceId}}if("annotate"===t.type){const a=d.a.now();return T(`adding annotation {${t.label}: ${a}}`),{...n,annotations:n.annotations.concat([{label:t.label,timestamp:a}])}}if("binaryAnnotate"===t.type)return T(`adding binary annotation {${t.name}: ${String(t.value)}}`),{...n,binaryAnnotations:{...n.binaryAnnotations,[t.name]:{value:t.value,type:t.annotationType}}};if("binaryAnnotateOperation"===t.type){const{value:a,type:e}=t.binaryAnnotationValueAndType;if(n.binaryAnnotations[t.name]){const o=n.binaryAnnotations[t.name].value||0;return T(`operating on binary annotation {\n          name: ${t.name}\n          pervious value: ${String(o)}\n          operand: ${String(a)}\n        }`),{...n,binaryAnnotations:{...n.binaryAnnotations,[t.name]:{value:a?t.operation(o,a):o,type:e}}}}return{...n,binaryAnnotations:{...n.binaryAnnotations,[t.name]:{value:a,type:e}}}}if("addSubspan"===t.type){T(`adding subspan {${t.name}}`);let a=0;return t.startTime?a=t.startTime:n.startTime?a=n.startTime:T(`WARNING: adding subspan {${t.name}} without start time`),{...n,spans:[...n.spans,{name:t.name,id:t.id||Object(p.a)(),startTime:a,endTime:t.endTime||1/0,annotationMap:{...t.annotations},binaryAnnotationMap:{...t.binaryAnnotations},parentId:t.parentId}]}}if("subspanStart"===t.type){T(`starting subspan {${t.name}}`);return n.spans.findIndex(n=>n.name===t.name)&&T(`WARNING: adding duplicate subspan name {${t.name}}`),{...n,spans:[...n.spans,{name:t.name,id:t.id||Object(p.a)(),parentId:t.parentId||null,startTime:d.a.now(),endTime:1/0,annotationMap:{...t.annotations},binaryAnnotationMap:{...t.binaryAnnotations}}]}}if("subspanStop"===t.type){if(T(`stopping subspan {${t.name}}`),!t.id){n.spans.reduce((n,a)=>(a.name===t.name&&n.push(a),n),[]).length>1&&Object(A.b)("duplicate_subspan_stop_name",{name:t.name})}const a=t.id?n.spans.findIndex(n=>n.id===t.id):n.spans.findIndex(n=>n.name===t.name);return a>-1?(n.spans[a].endTime=d.a.now(),t.annotations&&(n.spans[a].annotationMap={...n.spans[a].annotationMap,...t.annotations}),t.binaryAnnotations&&(n.spans[a].binaryAnnotationMap={...n.spans[a].binaryAnnotationMap,...t.binaryAnnotations})):Object(A.b)("invalid_subspan_stop_name",{name:t.name}),n}if("stop"===t.type&&n.isTiming){const{startTime:a,metricId:e,pwtStaticContext:s,annotations:m,binaryAnnotations:l,isSampled:A,spans:T,traceId:f}=n;if(t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect(),A){const n=t.stopTime||d.a.now(),A=[...T.map(t=>(t.endTime===1/0&&(t.endTime=n),t))];if(t.manualAndResourceSpans||0===T.length){const e=Object(p.a)();A.push({name:"network_resources",id:e,startTime:a,endTime:n,annotationMap:{},binaryAnnotationMap:{},parentId:null},...(t.customStopwatchBuffer||[]).map(n=>Object(u.a)(Object(r.a)(n,[]),e)).filter(Boolean))}const O="initial_app_load"===e.navigationType&&Object(i.a)(),g={type:"COMPLETE",traceId:f,startTime:a,endTime:n,spans:A,annotationMap:{...Object(o.a)(m),...Object(y.a)("browser_",O?Object(y.b)(O):{})},binaryAnnotationMap:Object(b.a)({metricId:e,pwtStaticContext:s,binaryAnnotations:l,performanceResourceTimings:t.customStopwatchBuffer||[]})};Object(c.a)({metricId:e,pwtStaticContext:s,result:g})}return{isTiming:!1,annotations:[],binaryAnnotations:{},spans:[],traceId:Object(p.a)()}}if("error"===t.type){const{error:n,stopwatchPerformanceObserver:a}=t;return n&&Object(A.b)(n),a&&a.disconnect(),{isTiming:!1,annotations:[],binaryAnnotations:{},spans:[],traceId:Object(p.a)()}}if("abort"===t.type&&n.isTiming){t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect();const{metricId:a,pwtStaticContext:e}=n,o=t.reason||"";return Object(c.a)({metricId:a,pwtStaticContext:e,result:{type:"ABORT",reason:o}}),{isTiming:!1,annotations:[],binaryAnnotations:{},spans:[],traceId:Object(p.a)()}}}return n};var O=({name:n,sampleRate:t,navigationType:a,manualAndResourceSpans:o=!1})=>{const i=Object(l.c)(),r=Object(e.useRef)([]),c=Object(e.useRef)(null),[u,d]=Object(e.useReducer)(f,{isTiming:!1,annotations:[],binaryAnnotations:{},spans:[],traceId:Object(p.a)()});return i?{isTiming:u.isTiming,start:e=>{if(window.PerformanceObserver){const n=1e3;r.current=[],c.current=Object(s.a)({entryTypes:["resource"]},t=>{r.current=r.current.concat(t.getEntries()),r.current.length>n&&(r.current=r.current.slice(-n))})}const o={type:"start",startTime:e,name:n,navigationType:a,pwtStaticContext:i,isSampled:!t||Math.random()<t};return d(o)},stop:n=>d({type:"stop",stopTime:n,stopwatchPerformanceObserver:c.current,customStopwatchBuffer:r.current,manualAndResourceSpans:o}),error:n=>{d({type:"error",stopwatchPerformanceObserver:c.current,error:n})},abort:n=>d({type:"abort",stopwatchPerformanceObserver:c.current,customStopwatchBuffer:r.current,reason:n}),annotate:(n,t)=>d({type:"annotate",label:n,parentId:t}),binaryAnnotate:(n,t,a,e)=>d({type:"binaryAnnotate",name:n,value:t,annotationType:a,parentId:e}),binaryAnnotateOperation:(n,t,a,e)=>d({type:"binaryAnnotateOperation",name:n,binaryAnnotationValueAndType:t,operation:a,parentId:e}),addSubspan:({name:n,startTime:t,endTime:a,annotations:e={},binaryAnnotations:o={},parentId:i=null,id:r=null})=>d({type:"addSubspan",name:n,startTime:t,endTime:a,annotations:e,binaryAnnotations:o,parentId:i,id:r}),subspanStart:({name:n,annotations:t={},binaryAnnotations:a={},parentId:e=null,id:o=null})=>d({type:"subspanStart",name:n,annotations:t,binaryAnnotations:a,parentId:e,id:o}),subspanStop:({name:n,annotations:t,binaryAnnotations:a,id:e,parentId:o})=>d({type:"subspanStop",name:n,annotations:t,binaryAnnotations:a,id:e,parentId:o}),getSpans:(n,t)=>u.spans.filter(a=>a[n]===t),getTraceId:()=>u.traceId}:null},g=a("1dBE"),I=a("nKUr");t.a=({name:n,v2LoggerMetricName:t,sampleRate:a,abortOnUnloadOrClientNavigation:o=!0,navigationType:i,manualAndResourceSpans:r=!1})=>{const{Provider:s,useHook:p}=Object(g.b)("Stopwatch_"+n);return{Provider:function({children:t}){const p=O({name:n,sampleRate:a,navigationType:i,manualAndResourceSpans:r}),c=Object(l.b)(),u=c?c.time:0,d=Object(e.useRef)(!1),m=null==p?void 0:p.isTiming,b=n=>{d.current&&(d.current=!1,null==p||p.abort(n))};return Object(e.useEffect)(()=>()=>{o&&b("unloadOrClientNavigation")},[u]),Object(I.jsx)(s,{value:{isTiming:m,abort:b,addAnnotation:(n,t)=>{null==p||p.annotate(n,t)},addBinaryAnnotation:(n,t,a,e)=>{null==p||p.binaryAnnotate(n,t,a,e)},binaryAnnotationOperation:(n,t,a,e)=>{null==p||p.binaryAnnotateOperation(n,t,a,e)},addSubspan:({name:n,startTime:t,endTime:a,annotations:e,binaryAnnotations:o,parentId:i,id:r})=>{null==p||p.addSubspan({name:n,startTime:t,endTime:a,annotations:e,binaryAnnotations:o,parentId:i,id:r})},subspanStart:({name:n,annotations:t,binaryAnnotations:a,parentId:e,id:o})=>{null==p||p.subspanStart({name:n,annotations:t,binaryAnnotations:a,parentId:e,id:o})},subspanStop:({name:n,annotations:t,binaryAnnotations:a,id:e,parentId:o})=>{null==p||p.subspanStop({name:n,annotations:t,binaryAnnotations:a,id:e,parentId:o})},getSpans:(n,t)=>p?p.getSpans(n,t):[],getTraceId:()=>p?p.getTraceId():"",error:n=>{d.current&&(d.current=!1,null==p||p.error(n))},start:n=>{d.current&&(null==p||p.abort("duplicated_init_stopwatch_action")),d.current=!0,null==p||p.start(n)},stop:n=>{d.current&&(d.current=!1,null==p||p.stop(n))}},children:t})},useHook:p}}},seP0:function(n,t,a){a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return p})),a.d(t,"c",(function(){return c}));var e=a("FZ8N"),o=a("F4HH");const{Provider:i,useHook:r}=Object(o.a)({name:"board_picker",v2LoggerMetricName:16,sampleRate:e.b?1:.1}),s=(n,t)=>{let a="unknown";null!=t&&t.includes("pin/")?a="PinCloseup":"/"===t?a="HomeFeed":"PinBookMarklet"===t&&(a="PinBookmarklet"),null==n||n.addBinaryAnnotation("source",a,"STRING")},p=i,c=r}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/64-cac16e3d46850aa053df.mjs.map